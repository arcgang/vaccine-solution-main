{"version":3,"sources":["webpack:///./src/pages/solution/orderms/voro-solution.mdx"],"names":["_frontmatter","makeShortcode","name","props","console","warn","AnchorLinks","AnchorLink","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-solution-orderms-voro-solution-mdx-6746199fb9ebe5e2f8f9.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst AnchorLinks = makeShortcode(\"AnchorLinks\");\nconst AnchorLink = makeShortcode(\"AnchorLink\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <AnchorLinks mdxType=\"AnchorLinks\">\n  <AnchorLink mdxType=\"AnchorLink\">Overview</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Build</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Run locally</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Deploy to OpenShift</AnchorLink>\n  <AnchorLink mdxType=\"AnchorLink\">Usage Details</AnchorLink>\n    </AnchorLinks>\n    <h2>{`Overview`}</h2>\n    <p>{`This service is exposing a send order and optimize API to build a shipment plan for all the vaccine lots given a new order. The implementation use CPLEX and an event driven solution to get a continuous streams of information coming frm the manufacturing, the refrigerator inventory and the available transportation capacity and cost.`}</p>\n    <p>{`The following diagram illustrates all the components working together to support and event-driven shipment plan real time optimization:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"44.44444444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAklEQVQoz2WSS08TURTH+Sp+A12Y+AU0cSFrSEzUjYmGhexM3GgiLIxpdOMrhGAMPghgUAFpxQcMKdRiyxRqpKIkraZS7XTamem8f54ZBJp4Jydncs+5v/u/55yusNXENw0sTdu3dqOB09RxmxIzWvv/tq7Hsb14IOdCywC7TSA+aLXoCtsWThjQuS4lpui5MsrZa8843veA7WqdUL65zDrJjxvMLBdYVDdxfZeGaaFulcWb+I4dAU0cz+PRdJbE6AK3nixysu8+I1NpUukNxpKrWLaDKznjb1eYfJfhaSrNbDqP5zrUWwbzq8XYBxEQUWh7LhcGx+juH6Ln8kOOnbnNm0yJyo5OqfyblmWLGo+XyideKTmef8gyn13HFaAuCrNftmO/q9Ay42QI/hmcHxjjcG+CU/3DHOoeZCG3Fe9HoMn3WcZF5evltRioGSaKWooV+k77AOgH/n4Nz119zNHTCU5cvMuR3puslX7G+9NLeaYWV2NwKlMQoI0moKieluOA5xwAPXl2BA2kQROpLNfvTHBj6AUD9yZRiyV2ajukVlSSomxmKYeS/0xTJiSjFvn24xdfK1W0urbb5UhbBI2tQ+nesmUsTEOeFPp4gVwelyhEt9qMzCrS/QLDMwqFze8ClFsilZ3mR4f3zLKgWoVK+b+8QGbU+CNNq9VicxsafwGCFYROYHR+HwAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Components\",\n        \"title\": \"Components\",\n        \"src\": \"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/3cbba/voro-components.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/7fc1e/voro-components.png 288w\", \"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/a5df1/voro-components.png 576w\", \"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/3cbba/voro-components.png 1152w\", \"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/0b124/voro-components.png 1728w\", \"/vaccine-solution-main/static/c2c7d437f38708884e457041dbee89be/382d6/voro-components.png 1798w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol>\n      <li parentName=\"ol\">{`The app is done in python with Flask and Gunicorn WSGI server to run in a container deployable on Openshift. The `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer/blob/master/Dockerfile\"\n        }}>{`Dockerfile is here`}</a></li>\n      <li parentName=\"ol\">{`A set of `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer/tree/master/server/api\"\n        }}>{`Resource classes`}</a>{` expose REST API for orders and optimization. For demonstration purpose other resoources are implemented.`}</li>\n      <li parentName=\"ol\">{`The optimization component transforms the data to pandas structure for CPLEX to run. As the domain was very limited, it can run internally to the python app, but a remote client is also implemented to access the decision optimization service when the problem is becoming more complex.`}</li>\n      <li parentName=\"ol\">{`A set of Kafka consumers, using AVRO schema are used to get real time data.`}</li>\n    </ol>\n    <p>{`See the code in this `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer\"\n      }}>{`Vaccine order optimizer github repository.`}</a></p>\n    <p>{`The application is deployed on OpenShift and participates with other components to demonstrate the vaccine order processing, as illustrated below:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"53.125%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAACf0lEQVQoz12TyW4TQRRF/RP8Bgv2rPkJ1kjsQCxAsAJ+ACkCgZCYgswgBgEJJiFABIkNOLFjE5PEJDgJjp320HOX2z348FwoWVDS7arud+u9e/tVZaZml7g1+YG7j+e5fv89y6UNiAckngfDALPZpTCzzmrhN19n19lc2SV2XFTfRvVshpajualg5Dpkjp2c4MiJqxw/dZPM0XNcmHjLeHj+kDhOaRsuj7MlctM/efm8ytSrVR7cGb9v8PRRlZVyi4OR9rpksu+K3H72hRezy1zLfiRf2dLBJE0YBENGpGMqKhjo2ep7rK/tsVzc5qkUWvy8Re2HQccQR7ZJxnOVTjAKE3nIFpkDL0SJQrsXoGTtOyFuX0mBCN8eaH652OT8mRy3b3zj7Ok3zOTkVw3E8uWLn3iSrWglSZwQqojhMJLkI8Kx7SQm9IZa7TgeSMIoium1HHZ3DNrtPnt7XVwvALNP5sqlOR7eXSIIAwqrm5TWGySSpLK5y+JKHdv3yeWrtDom5fo2i+U6jXaHtwsVbM//507EDGMp3u2Q2WkaKKVwAkV27juv8xVNmivWeLVQpu943MvlafYsPlfqTBcq1BpNJmcK9CSmmzFKiUSETuiI1CSO2d/vkC/V+NVoS3djWobYMbp4QUBjt8mfVovW/j7tThfbdelbNlEcaX1jxAcJgzDFtBV1sWgYFo47EJsDUTzAdHzaXZONrQara3UptiMxhatCjTHnkOspoq4cG182BbYnDVAEsvYsF1/gysH9Xd/S2Nncpl7bkK5bmuuZjuYdYMx3TJfIEIWpY5NaJolp6jm1rEOMJLZdrVKan8dtNsGRW/EfR8MWrnwfdQz+AmhlI1dyRoQnAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"End to end scenario\",\n        \"title\": \"End to end scenario\",\n        \"src\": \"/vaccine-solution-main/static/38d319ff54fc4d42ae520aa48ce575cb/3cbba/order-simulated.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/38d319ff54fc4d42ae520aa48ce575cb/7fc1e/order-simulated.png 288w\", \"/vaccine-solution-main/static/38d319ff54fc4d42ae520aa48ce575cb/a5df1/order-simulated.png 576w\", \"/vaccine-solution-main/static/38d319ff54fc4d42ae520aa48ce575cb/3cbba/order-simulated.png 1152w\", \"/vaccine-solution-main/static/38d319ff54fc4d42ae520aa48ce575cb/4dbac/order-simulated.png 1560w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ol>\n      <li parentName=\"ol\">{`An external app is managing the order life cycle and can be accessible from the `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr\"\n        }}>{`Vaccine Order manager`}</a>{` git repository.\n1.This Vaccine Order Reefer Optimization component.`}</li>\n      <li parentName=\"ol\">{`Manufacturer simulator to be send a vaccine lot inventory to the `}<inlineCode parentName=\"li\">{`vaccine-inventory`}</inlineCode>{` Kafka topic.`}</li>\n      <li parentName=\"ol\">{`Refrigerator manager to manage the availability of refrigerator container to carry the vaccine lots`}</li>\n      <li parentName=\"ol\">{`Transportation simulator to send updated itinerary update.`}</li>\n    </ol>\n    <h2>{`Build`}</h2>\n    <p>{`Simply build the docker image and push it to your registry. Here is an example of commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`docker build -t ibmcase/vaccine-order-optimizer .\n\ndocker push ibmcase/vaccine-order-optimizer\n`}</code></pre>\n    <p>{`The repository include a `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer/blob/master/.github/workflows/dockerbuild.yaml\"\n      }}>{`github action workflow`}</a>{` to build and push the image automatically to the `}<a parentName=\"p\" {...{\n        \"href\": \"https://hub.docker.com/repository/docker/ibmcase/vaccine-order-optimizer\"\n      }}>{`public docker registry.`}</a></p>\n    <p>{`The flow uses a set of secrets in the git repo:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`DOCKER_IMAGE_NAME = vaccine-order-optimizer`}</li>\n      <li parentName=\"ul\">{`DOCKER_REPOSITORY = ibmcase`}</li>\n      <li parentName=\"ul\">{`DOCKER_USERNAME and DOCKER_PASSWORD`}</li>\n    </ul>\n    <h2>{`Run locally`}</h2>\n    <p>{`It is possible to run the code on your laptop or server but connected to Event Streams deployed on OpenShift. Some pre-requisites need to be done:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Get the Kafka URL, schema registry URL, the user and password and any pem file containing the server certificate.`}</li>\n      <li parentName=\"ul\">{`The certificate needs to be under certs folder.`}</li>\n      <li parentName=\"ul\">{`Copy the script/setenv-tmpl.sh  to script/setenv.sh`}</li>\n      <li parentName=\"ul\">{`modify the environment variables.`}</li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`source ./script/setenv.sh\n\ndocker run -ti -e KAFKA_BROKERS=$KAFKA_BROKERS -e SCHEMA_REGISTRY_URL=$SCHEMA_REGISTRY_URL -e REEFER_TOPIC=$REEFER_TOPIC -e INVENTORY_TOPIC=$INVENTORY_TOPIC -e TRANSPORTATION_TOPIC=$TRANSPORTATION_TOPIC -e KAFKA_USER=$KAFKA_USER -e KAFKA_PASSWORD=$KAFKA_PASSWORD -e KAFKA_CERT=$KAFKA_CERT -p 5000:5000  ibmcase/vaccine-order-optimizer\n`}</code></pre>\n    <p>{`The swagger looks like:`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"62.15277777777778%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAABf0lEQVQoz42Sa26DMBCEuf9ZKvVHWqlH6AHaKFUKgfCysQ0G2zxCmulCGlVRHwTp03iFvR528Mqywi7cI45TRPtkZqrDKIYfhHM96VQbYzGOI4ZhwOFw+BVPVgabHcM+ExBCghcCUio6bFDXDZrmrFOzqdESnnEdhHaobf99E7k4Ho8/+MvVlcO2dXCmxunjiOvnhNPpdvClntIWfiJgXTvjyLFrCVq3XY+uH25i3kt4G9Zj9eIQ5hq7rCQqRKyeiQsDVnXg9bAI0z2UoRm+8RGP6xFBWpJTBZ90Wk8XpNIiLzsUdGAJrgeUc0PR4WHTkDNqlkgEpCEjl1wjkQ2y0pKDnuj+oQcjVYY++VXHuEue4fMYWxbBL2IEIkGoMsSaIzMSuVWLZFZCtppmqGqs/BR+zvGeMfgZR5AXiIRCWmow+g95Y0n/Znqf0z5lHby1krgPtggYm4mEwF4pcNOAWwqF9BbypqaGFt5WDHjatBTCOd1EXmZ2YTnhYk75HMonnPyRlJSHKOsAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"openAPI\",\n        \"title\": \"openAPI\",\n        \"src\": \"/vaccine-solution-main/static/2c23d1c168f014258ba0c9854b56d52f/3cbba/oro-swagger.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/2c23d1c168f014258ba0c9854b56d52f/7fc1e/oro-swagger.png 288w\", \"/vaccine-solution-main/static/2c23d1c168f014258ba0c9854b56d52f/a5df1/oro-swagger.png 576w\", \"/vaccine-solution-main/static/2c23d1c168f014258ba0c9854b56d52f/3cbba/oro-swagger.png 1152w\", \"/vaccine-solution-main/static/2c23d1c168f014258ba0c9854b56d52f/f9628/oro-swagger.png 1343w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h2>{`Deploy to OpenShift`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Connect to the vaccine project using: `}<inlineCode parentName=\"p\">{`oc project vaccine`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Modify the kubernetes/configmap.yaml with the Kafka Broker URL you are using, and if you changed the topic names too. Then do:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f kubernetes/configmap.yaml\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Get pem certificate from eventstreams or the Kafka cluster project to the local vaccine project with a command like:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret light-es-cluster-cert-pem  -n eventstreams --export -o yaml | oc apply -f - \n`}</code></pre>\n        <p parentName=\"li\">{`This pem file is mounted to the pod via the secret as:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-yaml\"\n          }}>{`volumeMounts:\n- mountPath: /certs\n name: eventstreams-cert-pem\nvolumes:\n- name: eventstreams-cert-pem\n secret:\n   secretName: light-es-cluster-cert-pem\n`}</code></pre>\n        <p parentName=\"li\">{`and the path for the python code to access this pem file is defined in the environment variable: `}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-yaml\"\n          }}>{` - name: KAFKA_CERT\n   value: /certs/es-cert.pem\n`}</code></pre>\n        <p parentName=\"li\">{`the name of the file is equal to the name of the {.data.es-cert.pem} field in the secret.`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-yaml\"\n          }}>{`Name:         eventstreams-cert-pem\nNamespace:    vaccine\nLabels:       <none>\nAnnotations:  <none>\n\nType:  Opaque\n\nData\n====\nes-cert.pem:  1164 bytes\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Copy the Kafka user’s secret from the `}<inlineCode parentName=\"p\">{`eventstreams`}</inlineCode>{` or Kafka project to the current vaccine project. This secret has two data fields: username and password`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret app-user-tls  -n eventstreams --export -o yaml | oc apply -f - \n`}</code></pre>\n      </li>\n    </ul>\n    <p>{`They are used in the Deployment configuration as:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`- name: KAFKA_USER\n   valueFrom:\n     secretKeyRef:\n       key: username\n       name: app-user-tls\n - name: KAFKA_PASSWORD\n   valueFrom:\n     secretKeyRef:\n       key: password\n       name: app-user-tls\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Deploy the application using: `}<inlineCode parentName=\"li\">{`oc apply -f kubernetes/app-deployment.yaml`}</inlineCode></li>\n    </ul>\n    <h2>{`Usage Details`}</h2>\n    <p>{`This section addresses how to validate the app is running. `}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Once the application is deployed on OpenShift get the routes to the external exposed URL:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` oc describe routes vaccine-order-optimizer \n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Access the swagger. As an example of URL: http://vaccine-order-optimizer-vaccine…cloud/apidocs/`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Trigger the data loading with the operation:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl -X POST  http://vaccine-order-optimizer-vaccine......cloud/api/v1/optimize/loadData \"\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Send a new order`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`curl -X POST -H \"Content-Type: application/json\" http://vaccine-order-optimizer-vaccine......cloud/    --data \"@./data/order1.json\"\n`}</code></pre>\n      </li>\n    </ul>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}