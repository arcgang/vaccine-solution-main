{"version":3,"sources":["webpack:///./src/pages/use-cases/anomaly-detection/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-anomaly-detection-index-mdx-74ed45e90b8242523bf6.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`Update 4/11/21`}</p>\n    <h2>{`Components involved in this use case`}</h2>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"46.18055555555556%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAAB7UlEQVQoz2WRX2sTQRTF83l88OsIvvoFBH22gggiWEXRxqLW0D4UBVsQLVEQLVWTWtu0JbaY3UDCmu5mm5jsJpv9N/PzZpPgv7MM587dO2fuPZMb9fv8sDs0rDYt4TgMIY2z5fcGmMcOxpFDXXggexVFxEGYcc/12d+2qe467JVs3GaH3IvX25w9f4cL155z5tw8xc9VtEoZo3pok79bZvlJhfy9Mmatk+VHYYwWNswWV+cKPLi/zpzwztY+uS9fj7l0e52FZ5tcnl+jaliMgoAkSfD9EUbNxrJOqZsOrtslSRNmSJOAUmmTUvkTG2+LWHWDnMzIvxj4PpGMNIEmnYoMB0OCYIjb9fmwa7JzZFEx23ij6SVJTE4NhyRakSpFFItvsq/WGridHp2+j+P2sm6d0y7DYEQUBhzJqFcWXnF9scjFG2u826rJVJrgp0dOy41KxJWIaok63oDlNyUO6xYHRpPjZotYPH25VaHRcic9a51x1/VYevie1ZWP3Lq5wUH5+0xwUuB5fU4cB7PVxun2sCXuex6hdG5YDj1/IJViwfTRWic2i48LFFZWyT96yre9yu8Ox4WJFKY6nTqnicWTcU5lAjr71B/8H6JwLBig5aCKo4xnsRrH8hhZzrJQzeZf/2ecishkyRlp7heivpiJYaETjQAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"Architecture diagram\",\n        \"title\": \"Architecture diagram\",\n        \"src\": \"/vaccine-solution-main/static/50729455bcb964f78da39aeaadf3cf6f/3cbba/cc-components.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/50729455bcb964f78da39aeaadf3cf6f/7fc1e/cc-components.png 288w\", \"/vaccine-solution-main/static/50729455bcb964f78da39aeaadf3cf6f/a5df1/cc-components.png 576w\", \"/vaccine-solution-main/static/50729455bcb964f78da39aeaadf3cf6f/3cbba/cc-components.png 1152w\", \"/vaccine-solution-main/static/50729455bcb964f78da39aeaadf3cf6f/79b1f/cc-components.png 1494w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator\"\n          }}>{`Vaccine Refrigerator container Simulator`}</a>{`\nis a python Flask app, which supports simple API to control the Refrigerator container simulation. It is described in `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/solution/reefer-iot/\"\n          }}>{`this note`}</a>{`, also see next section to deploy it on OpenShift.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent\"\n          }}>{`Monitoring Agent`}</a>{` is a Quarkus app, using Kafka Streams, and microprofile reactive messaging to monitor the telemetries and assess any cold chain violation via stateful logic. For each uniquely identified refrigerator, it keeps the last measured temperatures and compute some min, max, average and the total number of concutives violated records: temperature above a Threshold. It may potentially call an Anomaly detection scoring service deployed on Watson ML service. We describe this scenario in another use case. To read more on the monitoring agent, see `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/solution/cold-monitoring/\"\n          }}>{`the implementation  note`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-freezer-mgr\"\n          }}>{`Freezer manager service`}</a>{`) is a simple quarkus app with Reactive messaging to process the alerts and support the Freezer inventory.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n          }}>{`Anomaly detection scoring service`}</a>{` with WatsonML and anomaly detection built in Cloud Pak for Data`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The model to assess if the refrigerator container has issue. To develop the model we need to `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/solution/cp4d/\"\n          }}>{`get the telemetry data`}</a>{` in Cloud Pak for data, and then perform feature engineering and use AutoAI for developing the model as described in `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n          }}>{`this note`}</a>{`. As an alternate to collect the data, it is possible to directly `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/solution/cp4d/eventStream/\"\n          }}>{`integrate with Kafka topic`}</a>{` and then save it as csv or in a datalake.`}</p>\n      </li>\n    </ul>\n    <h2>{`Run on OpenShift`}</h2>\n    <h3>{`Pre-requisites`}</h3>\n    <p>{`The Cold chain use caseâ€™s pre-requisites apply the same for this use case.`}</p>\n    <ol>\n      <li parentName=\"ol\">{`IBM Cloud Pak for Data, deployed on OpenShift Cluster`}</li>\n    </ol>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If you use the `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n          }}>{`Anomaly detection service deployed in Watson ML`}</a>{`:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Get user credential to access to cloud pack for data, with the API key.`}</li>\n          <li parentName=\"ul\">{`Get the ANOMALY_DETECTION_URL.`}</li>\n          <li parentName=\"ul\">{`Get the CP4D_AUTH_URL used to get access token.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Define a secret called `}<inlineCode parentName=\"p\">{`agent-secrets`}</inlineCode>{` that will hold the credentials and sensitive data for the Vaccine Monitoring Agent to connect to your instance of IBM Event Streams and your Watson ML Anomaly detection model:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc create secret generic agent-secrets \\\\\n--from-literal=ANOMALY_DETECTION_URL=<YOUR_WATSON_ML_ANOMALY_DETECTION_MODEL_URL> \\\\\n--from-literal=KAFKA_USER=\\${TLS_USER} \\\\\n--from-literal=CP4D_USER=<YOUR_CP4D_USER> \\\\\n--from-literal=CP4D_APIKEY=<YOUR_CP4D_APIKEY>  \\\\\n--from-literal=CP4D_AUTH_URL=<YOUR_CP4D_AUTH_URL>\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<YOUR_WATSON_ML_ANOMALY_DETECTION_MODEL_URL>`}</inlineCode>{` is the url to your Watson ML anomaly dectection model.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<YOUR_CP4D_USER>`}</inlineCode>{` is your Cloud Pak for Data username.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<YOUR_CP4D_APIKEY>`}</inlineCode>{` is your Cloud Pak for Data API key.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<YOUR_CP4D_AUTH_URL>`}</inlineCode>{` is your Cloud Pak for Data IAM authentication and authorization API url.`}</li>\n        </ul>\n        <p parentName=\"li\">{`*`}<strong parentName=\"p\">{`NOTE:`}</strong>{` If you have not completed the `}<a parentName=\"p\" {...{\n            \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n          }}>{`Developing the Anomaly Detection Model with Watson Studio`}</a>{` section and as a result you donâ€™t have an anomaly detection model deployed to connect to, simply `}<strong parentName=\"p\">{`use random string values`}</strong>{` for the variables above.`}</p>\n      </li>\n    </ol>\n    <h3>{`Anomaly detection`}</h3>\n    <p>{`If you have deployed the anomaly detection model to Watson ML and configured the monitoring agent to call this entity, then the reefer topic will contain new message about potential issue on this refrigerator container. The downstream `}<inlineCode parentName=\"p\">{`reefer manager service`}</inlineCode>{` will assess the number of times this refrigerator was flagged as abnormal, and will trigger a business process in BPM. See `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/bpm/\"\n      }}>{`this note`}</a>{` for the process application implementation detail.`}</p>\n    <p><em parentName=\"p\">{`NOTE: The process application needs to be updated and the reefer manager service implemented to get the end-to-end scenario covered`}</em></p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}