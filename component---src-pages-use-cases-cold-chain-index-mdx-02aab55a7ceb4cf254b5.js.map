{"version":3,"sources":["webpack:///./src/pages/use-cases/cold-chain/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-cold-chain-index-mdx-02aab55a7ceb4cf254b5.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`The vaccine lots need to be kept at a constant temperature for a period of time. The sensor telemetry data coming from the refrigerated shipping containers is processed to assess cold-chain violations.`}</p>\n    <p>{`The solution for this use case includes streaming telemetry events, a stateful microservice to implement aggregation & alarm generation, and integration with a microservice to log issues against the refrigerated shipping container.`}</p>\n    <h2>{`Components involved in this use case`}</h2>\n    <ul>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator\"\n        }}>{`Vaccine Refrigerator container Simulator`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent\"\n        }}>{`Vaccine Reefer Monitoring Agent`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"https://ibm.github.io/event-streams/\"\n        }}>{`IBM Event Streams`}</a></li>\n      <li parentName=\"ul\"><a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n        }}>{`Anomaly detection scoring service`}</a>{` with WatsonML and anomaly detection built in Cloud Pak for Data`}</li>\n    </ul>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"47.56944444444444%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAACH0lEQVQoz22SzUtUYRTGZxntoz8jcBXUMtpFe1v0N4TtbBEtg7LIoJWIiwwEg6IM0kWakZaJA+Zops6Hzsydb++d9368H7/OvVOC1YFz3/se3vOc5zzn5HAJJBHZGYc41T/xuHdM1B24CQIIB3Hjy7+cez/KLK9s8flLgVXxQN7nbo/PMTa9xMjjN+R3j0jNitfrPs+n8sxMbzI1scHHxSLWOaJIo8Ikezf6dI4Lw2NcG5lkaPghhcIBufNX73H91gTnrtzl5fwaOgxJYk275fNqNs/8u63sXFs9wGiNMUaAbQbotbvsFquUqg129w+Jj4Vhud6i6rWo1Jtoa1FKCYs4S3DC1aVfAej3A3qSkJqxBi3A/1ioyJ26RyHFUoWjozqJTqQ1hddoSJGIKI7RwjAt8LcZKWjkvRVdc+Y3gySJ6YrYC183WRctUlMC8nZ5Xdi3s3uiB8zL9Q7bRS/zUq096MNoARSGqRopoHOGXl/x+tMGK1t7WKvx+31mF79R8poUay26QUgURly8+YQzl0Y5e/kOQzceEQlzQRwwtFkLjr7o1guUJCn2y4d8L+ywWdimLIL7YcxOpYPXUTQbTZ7NLHF/8j0PphYYf/GBOAW0J4ADU9pyLCsRyIQPDmsyOY+fAlypVPE7PoGsSqTtfxQki1kBTHc092eJU3QjkzTSJrI66cQQDV2thtkuYLpdnMScCtDBaU9zXeDjZKi/AIgq4ryKFqh9AAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"cc components\",\n        \"title\": \"cc components\",\n        \"src\": \"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/3cbba/cc-components.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/7fc1e/cc-components.png 288w\", \"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/a5df1/cc-components.png 576w\", \"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/3cbba/cc-components.png 1152w\", \"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/0b124/cc-components.png 1728w\", \"/vaccine-solution-main/static/9ae6b01995a56cbae62949c479a4d6ad/3fef4/cc-components.png 1808w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p><em parentName=\"p\">{`The reefer manager is not done yet`}</em></p>\n    <h2>{`Understand the components`}</h2>\n    <ul>\n      <li parentName=\"ul\">{`The Reefer simulator is a python  Flask app, which supports simple API to control the Refrigerator container simulation . It is described in `}<a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/solution/reefer-iot/\"\n        }}>{`this note`}</a>{`, also see next section to deploy it on OpenShift.`}</li>\n      <li parentName=\"ul\">{`The Monitoring Agent is a Quarkus app, with Kafka Streams, reactive messaging to monitor the cold chain with stateful operations. It also call the Anomaly detection service. Implementation details can be read in `}<a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/solution/cold-monitoring/\"\n        }}>{`this note`}</a>{`.`}</li>\n      <li parentName=\"ul\">{`The model to assess if the refrigerator container has issue. To develop the model we need to `}<a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/solution/cp4d/\"\n        }}>{`get the telemetry data`}</a>{` in Cloud Pak for data, and then perform feature engineering and use AutoAI for developing the model as described in `}<a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/analyze/ws-ml-dev/\"\n        }}>{`this note`}</a>{`. As an alternate to collect the data, it is possible to directly `}<a parentName=\"li\" {...{\n          \"href\": \"/vaccine-solution-main/solution/cp4d/eventStream/\"\n        }}>{`integrate with Kafka topic`}</a>{` and then save then as csv or in a datalake.`}</li>\n    </ul>\n    <h2>{`Run on OpenShift`}</h2>\n    <h3>{`Pre-requisites`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create the following artifacts in the `}<inlineCode parentName=\"p\">{`eventstreams`}</inlineCode>{` namespace on your OpenShift cluster:`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Create an EventStreams instance `}<em parentName=\"li\">{`(via the `}<a parentName=\"em\" {...{\n                \"href\": \"https://ibm.github.io/event-streams/installing/installing/#install-an-event-streams-instance\"\n              }}>{`Event Streams Custom Resource`}</a>{`)`}</em>{`.`}</li>\n          <li parentName=\"ol\">{`Create a `}<a parentName=\"li\" {...{\n              \"href\": \"https://ibm.github.io/event-streams/security/managing-access/#managing-access-to-kafka-resources\"\n            }}>{`Kafka User with SCRAM-based credentials`}</a>{`, as required by the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator#application-deployment\"\n            }}>{`Vaccine Reefer Simulator`}</a>{`.`}</li>\n          <li parentName=\"ol\">{`Create a `}<a parentName=\"li\" {...{\n              \"href\": \"https://ibm.github.io/event-streams/security/managing-access/#managing-access-to-kafka-resources\"\n            }}>{`Kafka User with TLS-based credentials`}</a>{`, as required by the `}<a parentName=\"li\" {...{\n              \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent#create-a-tls-user\"\n            }}>{`Vaccine Monitoring Agent`}</a>{`.`}</li>\n          <li parentName=\"ol\">{`Create two `}<a parentName=\"li\" {...{\n              \"href\": \"https://ibm.github.io/event-streams/getting-started/creating-topics/\"\n            }}>{`Kafka Topics`}</a>{`. This tutorial will assume the names of `}<inlineCode parentName=\"li\">{`coldchain-telemetry`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`coldchain-reefers`}</inlineCode>{` respectively.`}</li>\n        </ol>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a new project named `}<inlineCode parentName=\"p\">{`coldchain`}</inlineCode>{` that will be used for the deployment of all other components.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli\"\n          }}>{`OpenShift CLI`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://stedolan.github.io/jq/\"\n          }}>{`jq`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get a cloud pak for data deployed on OpenShift Cluster`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use a Terminal and the oc cli. If you want to access the code source you can clone the two main repositories of this solution:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`git clone https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator\ngit clone https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`Deploy the Vaccine Reefer Simulator`}</h3>\n    <p>{`To get more detail of this Python Flask application `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/reefer-iot/\"\n      }}>{`read this note`}</a>{`.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Ensure you are working inside the correct project via the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export PROJECT_NAME=coldchain\noc project \\${PROJECT_NAME}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Export the value of your Event Streams cluster name into an environment variable:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export CLUSTER_NAME=development\nexport EVENTSTREAMS_NS=eventstreams\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`To check what the name of your Event Streams cluster name is do:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`$ oc get eventstreams -n \\${EVENTSTREAMS_NS}\nNAME           STATUS\ndevelopment    Ready\n`}</code></pre></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a ConfigMap named `}<inlineCode parentName=\"p\">{`reefer-simul-cm`}</inlineCode>{` with the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc create configmap reefer-simul-cm \\\\\n--from-literal=KAFKA_CERT=/app/certs/ca.crt \\\\\n--from-literal=KAFKA_MAIN_TOPIC=\\${PROJECT_NAME}-telemetry \\\\\n--from-literal=KAFKA_BROKERS=___kafka-kafka-bootstrap-eventstreams.cluster.appdomain.cloud:443___\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Replacing the value of `}<inlineCode parentName=\"li\">{`KAFKA_BROKERS`}</inlineCode>{` above with the `}<strong parentName=\"li\">{`External`}</strong>{` cluster bootstrap address presented to you during the creation of your SCRAM-based KafkaUser.`}</li>\n          <li parentName=\"ul\">{`This value can be accessed via the following `}<inlineCode parentName=\"li\">{`oc`}</inlineCode>{` command:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get route -n \\${EVENTSTREAMS_NS} \\${CLUSTER_NAME}-kafka-bootstrap -o jsonpath=\"{.status.ingress[0].host}:443\"\n`}</code></pre></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a Secret named `}<inlineCode parentName=\"p\">{`reefer-simul-secret`}</inlineCode>{` with the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc create secret generic reefer-simul-secret \\\\\n--from-literal=KAFKA_USER=___your-scram-based-kafka-user-name___ \\\\\n--from-literal=KAFKA_PASSWORD=___your-scram-based-kafka-user-password___\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Replacing the values above with the values generated during the creation of your SCRAM-based KafkaUser.`}</li>\n          <li parentName=\"ul\">{`If you need to get the password do the following command:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get secret <YOUR_KAFKAUSER_NAME> -n \\${EVENTSTREAMS_NS} -o jsonpath='{.data.password}' && echo \"\"\n`}</code></pre></li>\n          <li parentName=\"ul\">{`If you dont remember the name of your KafkaUser when you created the SCRAM credentials:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`$ oc get kafkausers -n integration\nNAME                CLUSTER         AUTHENTICATION   AUTHORIZATION\napp-scram           development     scram-sha-512    simple\n`}</code></pre></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy the server-side public certificate of the Event Streams instance to your local project:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret \\${CLUSTER_NAME}-cluster-ca-cert -n \\${EVENTSTREAMS_NS} -o json | jq -r '.metadata.name=\"kafka-cluster-ca-cert\"' |jq -r '.metadata.namespace=\"coldchain\"' | oc apply -f -\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Note that we are copying and renaming the certificate in a single command to minimize the need for editing deployment documents.`}</li>\n          <li parentName=\"ul\">{`You should have two secrets.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Deploy the microservice components via the following `}<inlineCode parentName=\"p\">{`oc apply`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f https://raw.githubusercontent.com/ibm-cloud-architecture/vaccine-reefer-simulator/master/config/app-deployment.yaml\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`note if you want to build, clone `}<a parentName=\"p\" {...{\n                \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-reefer-simulator\"\n              }}>{`the repository`}</a>{` and follows the readme.`}</p>\n            <p parentName=\"li\">{`You can verify the deployment state with the following:`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get pods -w\n`}</code></pre>\n          </li>\n        </ul>\n        <p parentName=\"li\">{`or the via the Openshift console:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1137px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"72.56944444444444%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAABWElEQVQ4y51Ti27DIBDL/3/nKrVJSQghvALxMCsTbdat60lWOOUwPnx0cpKQUsI5hzb2fX8LnVoNrDHYtg3ee1hrEYJHjPGlAxisJQphP45QSmGeZ6hFQ84LFq2xrmsuSt/Fz0gZ7I4ohK4oCkh5k3I7hE5wPmS1DiYrN8ZmcoOU0lNUcq67STuMUhUM05yhEeKOsCVscf/3nXar9VhvLYpM+DEo2JCgbYRx8WWiGpnQQaxblntvwruOd8P1CjFOxeUD0Y3sr7hTyBlkuz6EMjYV4Zb3fY9rPnQYBizLUoxiPcE1jWi76IQQGPPofDl6xPl8LmSsmaapPAJ+67olLApPpxMul0uZRSpoQRUk5H/mOpvX/md+IKRCnlbbaMFXw5arQip6iZDqfmuZCknMWpJW8HUd7pAX3l52S0aFJCO4mXU8vIL5QSGd5Mj8BL5hful4zR/xOIef4x6UxRG94hMAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"2\",\n            \"title\": \"2\",\n            \"src\": \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/66ed6/simul-app-ocp.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/7fc1e/simul-app-ocp.png 288w\", \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/a5df1/simul-app-ocp.png 576w\", \"/vaccine-solution-main/static/15bfb9c4be7886eb951c0294f0a92ead/66ed6/simul-app-ocp.png 1137w\"],\n            \"sizes\": \"(max-width: 1137px) 100vw, 1137px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get the route for running the demo: `}<inlineCode parentName=\"p\">{`oc get routes`}</inlineCode>{`\nSee the `}<a parentName=\"p\" {...{\n            \"href\": \"#generate_vaccine_container_telemetry_events\"\n          }}>{`demo section`}</a>{` to trigger telemetries generation.`}</p>\n      </li>\n    </ol>\n    <h3>{`Deploy the Vaccine Monitoring Agent`}</h3>\n    <p>{`To get more detail of this Java Quarkus microprofile application `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/cold-monitoring/\"\n      }}>{`read this note`}</a>{`. The project repository is `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent\"\n      }}>{`https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent`}</a></p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Ensure you are working inside the correct project via the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc project coldchain\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If not done so already, copy the server-side public certificate of the Event Streams instance to your local project:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret \\${CLUSTER_NAME}-cluster-ca-cert -n \\${EVENTSTREAMS_NS} --export -o json | jq -r '.metadata.name=\"kafka-cluster-ca-cert\"' |jq -r '.metadata.namespace=\"coldchain\"' | oc apply -f -\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Note that we are copying and renaming the certificate in a single command to minimize the need for editing deployment documents.`}</li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy your TLS-based KafkaUser’s credentials to the local namespace with the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret -n \\${EVENTSTREAMS_NS} \\${TLS_USER} -o json | jq -r '.metadata.name=\"tls\"' |jq -r '.metadata.namespace=\"coldchain\"' | oc apply -f -\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Note that we are copying and renaming the credentials in a single command to minimize the need for editing deployment documents.`}</li>\n          <li parentName=\"ul\">{`If you dont remember your tls Kafka User:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`$ oc get kafkausers -n \\${EVENTSTREAMS_NS}\nNAME                     CLUSTER         AUTHENTICATION   AUTHORIZATION\nkafka-tls-user           development     tls              simple\n`}</code></pre></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Export the value of your Event Streams cluster name and TLS-based KafkaUser into environment variables. The tls-based-kafka-user-name is our previous setting is `}<inlineCode parentName=\"p\">{`kafka-tls-user`}</inlineCode>{`, if you changed this name, ensure it matches`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export CLUSTER_NAME=development\nexport TLS_USER=__your-tls-based-kafka-user-name__\nexport YOUR_SUFFIX=___a_unique_identifier_for_your_application___\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`If you use the Anomaly detection service deployed in Watson ML:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`Get user credential to access to cloud pack for data, with the API key.`}</li>\n          <li parentName=\"ul\">{`Get the ANOMALY_DETECTION_URL`}</li>\n          <li parentName=\"ul\">{`Get the CP4D_AUTH_URL used to get access token`}</li>\n        </ul>\n        <p parentName=\"li\">{`You will use those values in the secrets of this application.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Create a ConfigMap named `}<inlineCode parentName=\"p\">{`agent-cm`}</inlineCode>{` (see exising one `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-monitoring-agent/blob/master/src/main/kubernetes/configmap.yaml\"\n          }}>{`here`}</a>{`) with the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` # USE this if you do not use the anomaly detection service\n oc create configmap agent-cm \\\\\n --from-literal=REEFER_TOPIC=\\${PROJECT_NAME}-reefers \\\\\n --from-literal=TELEMETRY_TOPIC=\\${PROJECT_NAME}-telemetry \\\\\n --from-literal=KAFKA_BOOTSTRAP_SERVERS=\\${CLUSTER_NAME}-kafka-bootstrap.eventstreams.svc:9093 \\\\\n --from-literal=QUARKUS_KAFKA_STREAMS_APPLICATION_ID=cold-chain-agent-\\${YOUR_SUFFIX} \\\\\n --from-literal=KAFKA_SECURITY_PROTOCOL=SSL\n # USE the command below if you USE the anomaly detection service\n oc create configmap agent-cm \\\\\n --from-literal=REEFER_TOPIC=\\${PROJECT_NAME}-reefers \\\\\n --from-literal=TELEMETRY_TOPIC=\\${PROJECT_NAME}-telemetry \\\\\n --from-literal=KAFKA_BOOTSTRAP_SERVERS=\\${CLUSTER_NAME}-kafka-bootstrap.eventstreams.svc:9093 \\\\\n --from-literal=QUARKUS_KAFKA_STREAMS_APPLICATION_ID=cold-chain-agent-\\${YOUR_SUFFIX} \\\\\n --from-literal=KAFKA_SECURITY_PROTOCOL=SSL \\\\\n --from-literal=PREDICTION_ENABLED=true\n\n`}</code></pre>\n        <p parentName=\"li\">{` The value of `}<inlineCode parentName=\"p\">{`TELEMETRY_TOPIC`}</inlineCode>{` should match the value used in the creation of the `}<inlineCode parentName=\"p\">{`reefer-simul-cmap`}</inlineCode>{` ConfigMap above.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Define a secret for the agent, according to the option you selected:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# without anomaly detection\noc create secret generic agent-secrets \\\\\n--from-literal=KAFKA_USER=\\${TLS_USER} \\\\\n`}</code></pre>\n        <p parentName=\"li\">{`For anomaly detection you need a user and an api_key, the anonmaly detection URL and the CP4D IAM authorization API to get the token, then do:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# For anomaly detection\noc create secret generic agent-secrets \\\\\n--from-literal=ANOMALY_DETECTION_URL=https://zen-cpd-ze.../predictions?version=2021-01-28 \\\\\n--from-literal=KAFKA_USER=\\${TLS_USER} \\\\\n--from-literal=CP4D_USER=<cp4d user>   \\\\\n--from-literal=CP4D_APIKEY=<apikey>  \\\\\n--from-literal=CP4D_AUTH_URL=<cp4d url>\\\\\n--from-literal=CP4D_USER=<cp4d user> \\\\\n--from-literal=CP4D_AUTH_URL=<cp4d API to get user token>\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Deploy the microservice components. You have two choices depending of the fact you have cloned the repository or not.`}</p>\n        <p parentName=\"li\">{`If you have clone the repository use:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`./mvnw clean package -Dquarkus.kubernetes.deploy=true -DskipTests\n`}</code></pre>\n        <p parentName=\"li\">{`If not try this deployment config:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f https://raw.githubusercontent.com/ibm-cloud-architecture/vaccine-monitoring-agent/master/src/main/kubernetes/deployment.yml\n`}</code></pre>\n        <p parentName=\"li\"><em parentName=\"p\">{`The deployment.yaml is created using the `}<inlineCode parentName=\"em\">{`application.properties`}</inlineCode>{` and with the following command: `}<inlineCode parentName=\"em\">{`./mvnw clean package`}</inlineCode>{` and placed under `}<inlineCode parentName=\"em\">{`target/kubernetes`}</inlineCode>{`. We have copied this generated file for convenience and update the container image to download from Docker Hub.`}</em></p>\n      </li>\n    </ol>\n    <h2>{`Scenario script`}</h2>\n    <p>{`Once the solution is up and running, execute the following steps to present an end-to-end demonstration:`}</p>\n    <h3>{`Generate vaccine container telemetry events`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Access the Vaccine Reefer Simulator’s Flasgger UI via the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get route vaccine-reefer-simulator -o jsonpath=\"http://{.status.ingress[0].host}\"\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In your web browser got the above URL and expand the `}<strong parentName=\"p\">{`POST `}<inlineCode parentName=\"strong\">{`/control`}</inlineCode></strong>{` and click `}<strong parentName=\"p\">{`Try it out`}</strong>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`In the `}<strong parentName=\"p\">{`Edit Value`}</strong>{` text box, update the values of the records accordingly:`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><strong parentName=\"li\">{`containerID`}</strong>{`: `}<inlineCode parentName=\"li\">{`C01`}</inlineCode></li>\n          <li parentName=\"ul\"><strong parentName=\"li\">{`nb_of_records`}</strong>{`: `}<inlineCode parentName=\"li\">{`500`}</inlineCode></li>\n          <li parentName=\"ul\"><strong parentName=\"li\">{`product_id`}</strong>{`: `}<inlineCode parentName=\"li\">{`covid-19`}</inlineCode></li>\n          <li parentName=\"ul\"><strong parentName=\"li\">{`simulation`}</strong>{`: `}<inlineCode parentName=\"li\">{`temperature`}</inlineCode></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Execute`}</strong>{`.`}</p>\n      </li>\n    </ol>\n    <h3>{`Analyze simulated reefer telemetry data`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Access the Event Streams Console UI via the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get route -n eventstreams \\${CLUSTER_NAME}-ibm-es-ui -o jsonpath=\"https://{.status.ingress[0].host}\"\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Topics`}</strong>{` from the left navigation menu and select the topic that matches the `}<inlineCode parentName=\"p\">{`TELEMETRY_TOPIC`}</inlineCode>{` values.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Explore the messages tab and the individual telemetry records emitted by the Vaccine Reefer Simulator component.`}</p>\n      </li>\n    </ol>\n    <h3>{`Analyze generated cold-chain violations`}</h3>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click `}<strong parentName=\"p\">{`Topics`}</strong>{` from the left navigation menu and select the topic that matches the `}<inlineCode parentName=\"p\">{`reefer-topic`}</inlineCode>{` value.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Explore the messages tab and the observed vaccine cold-chain violation alert events.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The reefer container information contained in this topic have been identified as having observed temperatures outside the allowable range more than the allowable number of times, as determined to preserve the state of the vaccine doses contained.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get the service routes with `}<inlineCode parentName=\"p\">{`oc get route reefer-monitoring-agent -o jsonpath=\"http://{.status.ingress[0].host}\"`}</inlineCode></p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`You may go to the service API at the `}<inlineCode parentName=\"p\">{`<URL>/swagger-ui/`}</inlineCode>{` and use the interactive query to see the state of the container `}<inlineCode parentName=\"p\">{`C10`}</inlineCode>{`:`}</p>\n        <p parentName=\"li\">{` `}<span parentName=\"p\" {...{\n            \"className\": \"gatsby-resp-image-wrapper\",\n            \"style\": {\n              \"position\": \"relative\",\n              \"display\": \"block\",\n              \"marginLeft\": \"auto\",\n              \"marginRight\": \"auto\",\n              \"maxWidth\": \"1152px\"\n            }\n          }}>{`\n      `}<span parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-background-image\",\n              \"style\": {\n                \"paddingBottom\": \"29.166666666666668%\",\n                \"position\": \"relative\",\n                \"bottom\": \"0\",\n                \"left\": \"0\",\n                \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2UlEQVQY042Qy2oCQRBF+/8/xYjJxoUbP8AkmwiCuBSVhOl3z3T19AzX6jYDSUgwi0MVxa3XFfPlGm+7A5zzaKSCUhqSiZHQ9z1SSvcpuhiRrIXQPsK2hHEcMQwDD8nI+UYZ+C+KlvgAKSFO5wu8VnUDJULTNAgh8EAW8vbpSuKGu7BWlPfa0H42TY3fX6I/Bv62SOxOHWbPBo+vGosXjSeOq62peaHUHzYK+6NBFxysdey3gzGGv5E1/4r4kAbvysPHAbbr4bqMlnKNE5ahlKvHxdspFjt+1q6TUc0TE/CmYwAAAABJRU5ErkJggg==')\",\n                \"backgroundSize\": \"cover\",\n                \"display\": \"block\"\n              }\n            }}></span>{`\n  `}<img parentName=\"span\" {...{\n              \"className\": \"gatsby-resp-image-image\",\n              \"alt\": \"3\",\n              \"title\": \"3\",\n              \"src\": \"/vaccine-solution-main/static/aca97b068746e55db8da6b4ff92f06c5/3cbba/test-iquery.png\",\n              \"srcSet\": [\"/vaccine-solution-main/static/aca97b068746e55db8da6b4ff92f06c5/7fc1e/test-iquery.png 288w\", \"/vaccine-solution-main/static/aca97b068746e55db8da6b4ff92f06c5/a5df1/test-iquery.png 576w\", \"/vaccine-solution-main/static/aca97b068746e55db8da6b4ff92f06c5/3cbba/test-iquery.png 1152w\", \"/vaccine-solution-main/static/aca97b068746e55db8da6b4ff92f06c5/b5ea2/test-iquery.png 1318w\"],\n              \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n              \"style\": {\n                \"width\": \"100%\",\n                \"height\": \"100%\",\n                \"margin\": \"0\",\n                \"verticalAlign\": \"middle\",\n                \"position\": \"absolute\",\n                \"top\": \"0\",\n                \"left\": \"0\"\n              },\n              \"loading\": \"lazy\"\n            }}></img>{`\n    `}</span></p>\n        <p parentName=\"li\">{` The response may look like:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`{\n \"alreadyReportedColdChainViolation\": false,\n \"maxRecordToKeep\": 25,\n \"maxTemperature\": -9,\n \"maxTemperatureRegistered\": -20,\n \"maxViolationAllowed\": 10,\n \"reeferID\": \"C10\",\n \"temperatureList\": [\n   -49.92182102,\n   -49.22471643,\n   -50.9776016,\n   -31.07841667,\n   -28.75859987,\n   -32.18018047,\n   -31.04312727,\n   -28.70898255,\n   -32.03926825,\n   -31.86666432,\n   -30.40963273,\n   -49.07404188\n ],\n \"tooManyViolations\": false,\n \"violatedTemperatureCount\": 0\n}\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`Anomaly detection`}</h3>\n    <p>{`If you have deployed the anomaly detection model to Watson ML and configured the monitoring agent to call this entity, then the reefer topic will contain new message about potential issue on this refrigerator container. The downstream `}<inlineCode parentName=\"p\">{`reefer manager service`}</inlineCode>{` will assess the number of time this refrigerator was flagged as adnormal, and will trigger a business process in BPM. See `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/bpm/\"\n      }}>{`this note`}</a>{` for the process application implementation detail.`}</p>\n    <p><em parentName=\"p\">{`note that the process application needs to be updated and the reefer manager service implemented to get the end to end scenario covered`}</em></p>\n    <h3>{`Clearing the project`}</h3>\n    <p>{`To delete the different resources do the following:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc delete cm agent-cm\noc delete cm reefer-simul-cm\noc delete secret agent-secrets\noc delete secret reefer-simul-secret\noc delete deployment vaccine-reefer-simulator\noc delete deploymentconfig reefer-monitoring-agent\noc delete project coldchain\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}