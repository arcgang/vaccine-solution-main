{"version":3,"sources":["webpack:///./src/pages/use-cases/order/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-order-index-mdx-192d7053751d105409c1.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`The vaccine order fullfilment is a complex problem to address as we need to optimize the shipment plan according to the demand and the constraints. A deep dive to the Operational Research problem is described in `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/voro-solution/\"\n      }}>{`this note`}</a>{`.\nIn this use case / lab you will learn how to integrate with Kafka using the Outbox pattern, and Debezium to capture change to the postgresql table, how to integrate an Operational Research / advanced analytics component in an event-driven architecture which acts on new order events, to improve the shipment plan, how to deploy those component using GitOps approach, and finally how to use Quarkus and microprofile reactive messaging.`}</p>\n    <h2>{`Target Audiences`}</h2>\n    <p>{`You will be greatly interested by the subjects addressed in this use case if you are:`}</p>\n    <ul>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`an architect,`}</strong>{` as you will get a deeper understanding on how all the components work together, and how to adopt event-driven approach to this problem which is mostly seen as a batch processing in traditional It architecture.`}</li>\n      <li parentName=\"ul\"><strong parentName=\"li\">{`a developer,`}</strong>{` as you will get a broader view of the solution end-to-end, as well as insight into practices to reuse during your future implementations.`}</li>\n    </ul>\n    <h2>{`The what`}</h2>\n    <p>{`In this scenario we want to demonstrate the order entry with an event-driven microservice, and the integration with an event driven linear programming stateful function. The scenario addresses the following features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create Order(s) using a simple user interface as an order manager will do after interacting with the country health care request.`}</li>\n      <li parentName=\"ul\">{`Validate the `}<a parentName=\"li\" {...{\n          \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/patterns/intro/#transactional-outbox\"\n        }}>{`transactional outbox pattern`}</a>{` works to get OrderCreated, OrderUpdated or OrderCancelled Events created into a dedicated table in Postgresql`}</li>\n      <li parentName=\"ul\">{`Validate how `}<a parentName=\"li\" {...{\n          \"href\": \"https://debezium.io/documentation/reference/1.4/connectors/postgresql.html\"\n        }}>{`Debezium Change Data Capture`}</a>{` for Postgresql as a Kafka connector, produces OrderEvents from the table to Kafka `}<inlineCode parentName=\"li\">{`orders`}</inlineCode>{` topic.`}</li>\n      <li parentName=\"ul\">{`Integrate with the `}<a parentName=\"li\" {...{\n          \"href\": \"\"\n        }}>{`Shipment plan optimization`}</a>{` to get the updated shipment plan as events.`}</li>\n    </ul>\n    <h3>{`Components involved in this use case`}</h3>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\"\n          }}>{`Vaccine Order Service`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Postgres DB`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Debezium for change data capture on the outbox table`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Kafka using Strimzi or `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm.github.io/event-streams/\"\n          }}>{`event streams`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer\"\n          }}>{`Vaccine Order Reefer Optimization Service`}</a></p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"777px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"54.861111111111114%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACZUlEQVQoz3VTTU8UQRCdH+Bf0EQvXr3qxV9AwtHEeEOMBw+aaDxoPCjoxRgOxotGRQUBY4DoBUiICjFRd1k2fizDQgI7u+4uzA473/35rO51vdmTN13TXfXqdVWPo5IYPIrAwh6MrbP0v1BpAuQpsm6IxY/rmF8o4N1SEe+XCoiCLpw4CPHiWRnPn6wRSpgYL6PToUCtkecCjEkLLiRyxhEnKczY9nwcHhjFyaGHOHX+EQ6dvoFf7i6c0O9iaqKE6VdFvJlcw+zMOoIggSZCzgSklHY+oOyccyLn0Eqj7YcYuj2Jy/ff4urYHM5cf4pGow0HkkELTmpyxHEGRkFSSUsklYKmR5Cdp7xHzoVV6DUDnDj7AEcGRnB08C6ODY6iVmvC2dj2sfqzg4yO1B9ZRsSUQEllySxRzv/ZoCSt/S7O3XyJCyNTuHhvBoNXHuN3Yw/O8FgRxy+t4IvrI00SHEQpEiKstzpotgNSKRDSehBQsyDxY8tDfZ9sLS2UOY0ySeib5XDGF7Zxa3oLBbeF4TuvcW1sHu5OA9PL3/CpvGkVz62Wsby2YW0/YuimypIJ1TuVJhhilWdUQ8HsoiIlbT9ARF2st/Yw++ErSps7VNsUi58LWCl+RxiGxtNCiF6tlVY99AmVqRW5CGpALqSdD6IY+9TVerOJymYVFdeF12ggTDOk1GWDOGPW1zTNvonUHlnFVA/OIIk4ienCEhg5p3ECb7eGes1D1a3Crbh2LyfSLCFiuhEmRnMSRPGa1GmqtaOj0N5+TX+M+gsZ92ZqNdkRvGoVe7VdaPLr7xn0Y8y6NsLI/gNb3yd/iqadZQAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"vaccine order 1\",\n            \"title\": \"vaccine order 1\",\n            \"src\": \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/7fc1e/vaccine-order-1.png 288w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/a5df1/vaccine-order-1.png 576w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png 777w\"],\n            \"sizes\": \"(max-width: 777px) 100vw, 777px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ul>\n    <p><em parentName=\"p\">{`The blockchain integration is not done yet`}</em></p>\n    <p>{`To have a deeper understanding of the order service read `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/#overview\"\n      }}>{`this overview section`}</a>{`. For the Vaccine order reefer optimization service `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/design/voro/\"\n      }}>{`the design article`}</a>{` details the optimization approach, while the `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/voro-solution/#overview\"\n      }}>{`solution article`}</a>{` goes over the service implementation details.`}</p>\n    <h2>{`Deploy to OpenShift`}</h2>\n    <p>{`We propose to use gitops to deploy the Kafka, Postgres and the different services of this solution in few `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` commands.`}</p>\n    <h3>{`Pre-requisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`You need:`}\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`docker and docker compose on your laptop to run locally or build image`}</li>\n          <li parentName=\"ul\">{`Java 11`}</li>\n          <li parentName=\"ul\">{`git client `}</li>\n          <li parentName=\"ul\">{`Get access to an OpenShift cluster with Cloud Pak for integration and event streams installed.`}</li>\n        </ul>\n      </li>\n    </ul>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli\"\n          }}>{`OpenShift CLI`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://stedolan.github.io/jq/\"\n          }}>{`jq`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use a Terminal and the oc cli. If you want to access the code source you can clone the two main repositories of this solution:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`git clone https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\ngit clone https://github.com/ibm-cloud-architecture/vaccine-order-optimization\ngit clone https://github.com/ibm-cloud-architecture/vaccine-gitops\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`TL;DR  - One Click Deploy`}</h3>\n    <p>{`Go to `}<inlineCode parentName=\"p\">{`vaccine-gitops`}</inlineCode>{` folder and do the following steps:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Set your personal deployment parameters within the   `}<inlineCode parentName=\"p\">{`scripts/env.sh`}</inlineCode>{` file`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Use the `}<inlineCode parentName=\"p\">{`oc login --token...  --server ....`}</inlineCode>{` command to log to the OpenShift cluster. (From the OpenShift admin console, top right menu)`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Start `}<inlineCode parentName=\"p\">{`./scripts/deployOrderOptimWithEventStreams.sh --skip-login`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The following pods should be up and running:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` NAME                                        READY   STATUS    RESTARTS   AGE\n postgres-db-postgresql-0              1/1     Running   0          106s\n vaccineorderms-5-hb66n                1/1     Running     0          105s\n vaccine-transport-simulator-2-bk69q   1/1     Running  \n vaccine-order-optimizer-2-frge3       1/1     Running  \n`}</code></pre>\n      </li>\n    </ul>\n    <h3>{`Deploy the solution manually`}</h3>\n    <p>{`In this section we are going to see how to deploy all the components of this use case manually on an OpenShift cluster. `}<strong parentName=\"p\">{`IMPORTANT:`}</strong>{` We asume IBM Event Streams has been deployed onto this cluster.`}</p>\n    <p>{`This is the summary of activities for deploying the use case manually:`}</p>\n    <ol>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#pull-down-github-repositories\"\n        }}>{`Pull down related GitHub repositories`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#create-new-openshift-project\"\n        }}>{`Create a new OpenShift project for the use case`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#deploy-postgres\"\n        }}>{`Deploy Postgres`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#deploy-the-vaccine-order-manager-microservice\"\n        }}>{`Deploy the Vaccine Order Manager microservice`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#deploy-kafka-connect\"\n        }}>{`Deploy Kafka Connect`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#deploy-debezium-cdc-postgres-connector\"\n        }}>{`Deploy Debezium CDC Postgres connector`}</a></li>\n      <li parentName=\"ol\"><a parentName=\"li\" {...{\n          \"href\": \"#deploy-the-vaccine-order-optimizer-microservice\"\n        }}>{`Deploy the Vaccine Order Optimizer microservice`}</a></li>\n    </ol>\n    <h4>{`Pull down GitHub repositories`}</h4>\n    <p>{`We are going to use mainly three GitHub repositories throughout this section of manually deploying the order management and optimization use case. These are:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Vaccine order manager for postgres component: `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\"\n        }}>{`https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg`}</a></li>\n      <li parentName=\"ul\">{`Vaccine order optimizer component: `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimization\"\n        }}>{`https://github.com/ibm-cloud-architecture/vaccine-order-optimization`}</a></li>\n      <li parentName=\"ul\">{`Vaccine GitOps: `}<a parentName=\"li\" {...{\n          \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-gitops\"\n        }}>{`https://github.com/ibm-cloud-architecture/vaccine-gitops`}</a></li>\n    </ul>\n    <p>{`To pull down the three GitHub repositories execute in your terminal:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{` git clone https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\n git clone https://github.com/ibm-cloud-architecture/vaccine-order-optimization\n git clone https://github.com/ibm-cloud-architecture/vaccine-gitops\n`}</code></pre>\n    <h4>{`Create new OpenShift project`}</h4>\n    <p>{`We are going to create a new OpenShift project in which we will deploy everything we need to get this order management and optimization use case working (except IBM Event Streams which we assume that has already been deployed in some other OpenShift project within this OpenShift cluster). Our new OpenShift project will be called `}<inlineCode parentName=\"p\">{`vaccine-omo`}</inlineCode>{` (that stands for vaccine order management and optimization) but you can choose any of your likes. To create the project, execute in your terminal (after having logged onto your OpenShift cluster):`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc new-poject vaccine-omo\n`}</code></pre>\n    <p>{`Also, we are going to create a new service account within our OpenShift project that provides an identity for processes that run in a Pod. The reason for this is that the postgres deployment in the following section requires certain privileges that aren’t granted with the default service account when a new OpenShift project is created and which will be used when you deploy anything into it unless you specify otherwise.`}</p>\n    <p>{`For creating the new service account specific for our vaccine order management and optimization use case, execute in the terminal:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`cat <<EOF | oc apply -f -\napiVersion: v1\nkind: ServiceAccount\nmetadata:\n  name: vaccine-runtime\nEOF\n`}</code></pre>\n    <p>{`Finally, we need to give that service account, that will be used to provide an identity to the processes running in the pods we deploy within this service account of our OpenShift project, the appropriate privileges the postgres processes need in order to successfully carry out the operations to get deployed and functioning in OpenShift. To give those privileges execute:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc adm policy add-scc-to-user anyuid -z <SERVICE_ACCOUNT_NAME> -n <NAMESPACE>\n`}</code></pre>\n    <p>{`where`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<SERVICE_ACCOUNT_NAME>`}</inlineCode>{` is the service account we have created earlier (`}<inlineCode parentName=\"li\">{`vaccine-runtime`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<NAMESPACE>`}</inlineCode>{` is the namespace where the service account is in (`}<inlineCode parentName=\"li\">{`vaccine-omo`}</inlineCode>{`)`}</li>\n    </ul>\n    <h4>{`Deploy Postgres`}</h4>\n    <p>{`Now, let’s deploy the Postgres database the Vaccine Order Manager component will use to back up the creation of new orders, which will then be picked up by the Debezium Change Data Capture Postgres connector that will be running on the Kafka Connect cluster we will deploy too.`}</p>\n    <p>{`For deploying postgres, we are going to make use of the scripts in the Vaccine GitOps GitHub repository we pulled down earlier. Thus, go into the `}<inlineCode parentName=\"p\">{`vaccine-gitops/environments`}</inlineCode>{` directory. In there you can see several folders (for the different components we might want to deploy) where there is one for `}<inlineCode parentName=\"p\">{`postgres`}</inlineCode>{`. Within that `}<inlineCode parentName=\"p\">{`postgres`}</inlineCode>{` folder, you can see several yaml files that describe the postgres deployment as well as the Kustomize files that describe how to apply all these yaml files.`}</p>\n    <p>{`Now, make sure you are within the `}<inlineCode parentName=\"p\">{`vaccine-gitops/environments`}</inlineCode>{` folder in the `}<inlineCode parentName=\"p\">{`vaccine-gitops`}</inlineCode>{` GitHub repository and execute:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -k postgres\n`}</code></pre>\n    <p>{`After a minute or so, you can see all the pieces comprising our Postgres deployment as well as the actual pod running postgres are properly deployed and running:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`$ oc get all\nNAME                           READY   STATUS    RESTARTS   AGE\npod/postgres-db-postgresql-0   1/1     Running   0          2m54s\n\nNAME                                      TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\nservice/postgres-db-postgresql            ClusterIP   172.21.130.178   <none>        5432/TCP   2m54s\nservice/postgres-db-postgresql-headless   ClusterIP   None             <none>        5432/TCP   2m54s\n\nNAME                                      READY   AGE\nstatefulset.apps/postgres-db-postgresql   1/1     2m55s\n`}</code></pre>\n    <p>{`Also, you can check that along those components above, the Kustomize scripts were also meant to deploy a secret called `}<inlineCode parentName=\"p\">{`postgresql-creds`}</inlineCode>{` that, as the name suggests, will hold the credential parameters for any other component to be able to connect and use this Postgres instance. You can check this secret out by executing:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc describe secret postgresql-creds\n`}</code></pre>\n    <p>{`where you should see:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`Name:         postgresql-creds\nNamespace:    vaccine-omo\nLabels:       <none>\nAnnotations:  \nType:         Opaque\n\nData\n====\nurl:       48 bytes\nusername:  8 bytes\npassword:  11 bytes\n`}</code></pre>\n    <h4>{`Deploy the Vaccine Order Manager microservice`}</h4>\n    <p>{`In order to deploy the Vaccine Order Manager microservice for this use case, we first need to set up a couple of Kubernetes secrets and configmaps it will make use of.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`SSL certificate`}</strong></p>\n        <p parentName=\"li\">{`This is the server-side public TLS certificate of your IBM Event Streams instance to establish secure connection. This is provided by IBM Event streams in a Kubernetes secret we are going to copy from the OpenShift project where your IBM Event Streams instance is deployed in to our vaccine order management and optimization project, with a renaming to match the name our vaccine order manager microservice deployment scripts expect which is `}<inlineCode parentName=\"p\">{`kafka-cluster-ca-cert`}</inlineCode>{`.`}</p>\n        <p parentName=\"li\">{`In order to create the `}<inlineCode parentName=\"p\">{`kafka-cluster-ca-cert`}</inlineCode>{` secret containing the server-side public TLS certificate of your IBM Event Streams instance, execute the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret <CLUSTER_NAME>-cluster-ca-cert -n <EVENTSTREAMS_NS> -o json | jq -r '.metadata.name=\"kafka-cluster-ca-cert\"' | jq --arg project_name \"<PROJECT_NAME>\" -r '.metadata.namespace=$project_name' | oc apply -f -\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<CLUSTER_NAME>`}</inlineCode>{` is the name of your IBM Event Streams instance. If you don’t remember your IBM Event Streams instance name you can find it out executing:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get EventStreams -n <EVENTSTREAMS_NS>\n`}</code></pre>\n          </li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<EVENTSTREAMS_NS>`}</inlineCode>{` is the name of the OpenShift project/namespace were your IBM Event Streams is deployed in.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<PROJECT_NAME>`}</inlineCode>{` is the name of the OpenShift project where you are deploying this vaccine order management and optimization use case into.`}</li>\n        </ul>\n        <p parentName=\"li\">{`You can verify that a new secret called `}<inlineCode parentName=\"p\">{`kafka-cluster-ca-cert`}</inlineCode>{` exists in the OpenShift project where you are deploying the vaccine order management and optimization use case by executing:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secrets\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Mutual TLS certificate`}</strong></p>\n        <p parentName=\"li\">{`IBM Event Streams has both `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm.github.io/event-streams/installing/configuring/#kafka-access\"\n          }}>{`internal and external configurable Kafka listeners`}</a>{`. For this tutorial we assume the internal Kafka listener has been configured to require mutual TLS authentication. In order to be able to connect to IBM Event Streams through the internal Kafka listener, we first need to create a Kafka User and its TLS credentials. To do so,`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`Go to your IBM Event Streams user intergace dashboard. You can find where it is by executing:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get routes -n <EVENTSTREAMS_NS> | grep ui\n`}</code></pre>\n          </li>\n          <li parentName=\"ol\">{`Click on the `}<inlineCode parentName=\"li\">{`Connect to this cluster`}</inlineCode>{` option\n`}<span parentName=\"li\" {...{\n              \"className\": \"gatsby-resp-image-wrapper\",\n              \"style\": {\n                \"position\": \"relative\",\n                \"display\": \"block\",\n                \"marginLeft\": \"auto\",\n                \"marginRight\": \"auto\",\n                \"maxWidth\": \"1152px\"\n              }\n            }}>{`\n      `}<span parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"79.8611111111111%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACeElEQVQ4y21TwU7bQBDN55T/gIggyCG3/kW/pT/Raw+9VFUv7YkilUiRSCkEURKS2Ilje7NrO7bj13kTNlDUlUbrnZ19897MuPXm4AC9Xg/dbhdHR0dot9t74/l/1m7v7LW/0+mgddZ7i8lkjPl8jtVqpbZcLnVPkgRpmqqZpz1JUkRxiljuTJrs/d5ap6dnCjYYDDAcDjEej3F3d4eHhwcFtNaqpcbCGIOmchg/hri6HsHYXBM4jVlrXOvk5EQByYo7nVmWwTmH9XqNzFmM/szw6es5TBLh/LbAJDCIliGCyKL/e4HLmwiZNTAS36LuIAhQFIWCEeSlWesQhnP0fz3i58ji/Zca7z40+DGqcXtzjYv+ELf3U2XI+Nbx8bECkhUleYnPUg2qMsf3yzE+f+vDugwfLxwG9w7BbKLKHMH4loCHh4f/AL5mSKOfTeBjuzaoixRFtobLc01gJLFhiUSNAoZhiM1mo6C5BNH8N3dvRbG7s1kOJx118ynyRYBc6pkHM9hVtANcLBb6oCxLtbqutSlM0jQNuMg0iiK9o6dJZbymj9hkDpXUfyuyCb4H5GPWjPLYIF8CJiAod4JyRLgak0hnLVxGxhmqXBREi2fAqqqeZBUKQIZ+sPlNZrwrRHIh4Ns4QsnE9MnbUgD3DFlDP3svAekjEBcVeMZbua+lOXY6gZPalfESzWoptRSG/AfZZQb7x1xkxgZ4H78Zs91uNSH3SIiU4mcN602BXAjsJfvu+uUH3ftYEs+ai4C5xDg5W1W20VgF5HxRCh/Q+PjlGBGcPj9GvPNJaX46Ms+QktnBOI73XfZnL52JeGajfK39j+AT0f8XkpGDXAjIIzoAAAAASUVORK5CYII=')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"order1\",\n                \"title\": \"order1\",\n                \"src\": \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/3cbba/order1.png\",\n                \"srcSet\": [\"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/7fc1e/order1.png 288w\", \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/a5df1/order1.png 576w\", \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/3cbba/order1.png 1152w\", \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/0b124/order1.png 1728w\", \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/4ea69/order1.png 2304w\", \"/vaccine-solution-main/static/3c38ccd399b40a0f9ff8a7de003ffb8f/35578/order1.png 2544w\"],\n                \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n    `}</span></li>\n          <li parentName=\"ol\">{`A panel will slide from the right hand side of your screen. Under the `}<inlineCode parentName=\"li\">{`Kafka listener and credentials`}</inlineCode>{` section, click on `}<inlineCode parentName=\"li\">{`Generate TLS credentials`}</inlineCode>{` button.\n`}<span parentName=\"li\" {...{\n              \"className\": \"gatsby-resp-image-wrapper\",\n              \"style\": {\n                \"position\": \"relative\",\n                \"display\": \"block\",\n                \"marginLeft\": \"auto\",\n                \"marginRight\": \"auto\",\n                \"maxWidth\": \"1152px\"\n              }\n            }}>{`\n      `}<span parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"75.34722222222221%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAACAUlEQVQ4y61UTWsTURSd3yi4cFEtSkwgC0OwVcEWdSmuRO2mya9w5Uopgm5iSyCJEEom8xUm85WvSTKZyfGdl7ySxkYRvHC4d+48Ts695020fr8Px3FgmiY8z4NhGOj1erAsC6PRCIzlcrkT6r0KLUkSzOdzMDMWiwUGg4Ekn81m+FtskknCarWKQqGAUqmEXC6HfD6PVqslyaIowmQykfVwOEQYhgiCQCqniBsVVioVFItFlMtlSUyQkEQkJBlV85mk7MVxLHs3Em7KzbJMZkXG0RUJQYXssR6Px9f2e0VIQ2gAR3FdF77vy1qNR7BH0ECeYU/t9zdCyqcijpCmqcw0SJn0L4ZIQl3XUa/XJZrNJhqNBn7Uarg4P5fXh4oIqqPzBOudI/Nwp9OR4EHuaDSNMRBOBlEIPxRjDyJ4G6MTydrlbWgccTqdSucy/lK2RNRqI7jsIhSIbRcj3UYmjNgOWrhcQ9WSkPIJKXyeoPvpM36efUP77Lsgv4Rba2AuVrOeUSBbAdlGvaLWSKR2Rcdt24bdNeDaDhzDhNnR0TMtOOImzBYp2l+/4HDvDg7u38Pj/T2R7+LJg308vH0Lp4ePVoRq6Vfg4n1PZk/sS8LrI0kzWBc1fDh6hvcvj/HuxXORj3Dy6hivnx7g49s31y/2/wjtT/8ku5CKL2obi3X+BZodZSVNIYTlAAAAAElFTkSuQmCC')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"order2\",\n                \"title\": \"order2\",\n                \"src\": \"/vaccine-solution-main/static/9080be7362b7a9e9fdf3af26b22c63e0/3cbba/order2.png\",\n                \"srcSet\": [\"/vaccine-solution-main/static/9080be7362b7a9e9fdf3af26b22c63e0/7fc1e/order2.png 288w\", \"/vaccine-solution-main/static/9080be7362b7a9e9fdf3af26b22c63e0/a5df1/order2.png 576w\", \"/vaccine-solution-main/static/9080be7362b7a9e9fdf3af26b22c63e0/3cbba/order2.png 1152w\", \"/vaccine-solution-main/static/9080be7362b7a9e9fdf3af26b22c63e0/ce6f1/order2.png 1328w\"],\n                \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n    `}</span>{`\nBy the way, you can already see to the left of the `}<inlineCode parentName=\"li\">{`Generate TLS credentials`}</inlineCode>{` the Kafka bootstrap address for the internal listener we will be referencing to later on.`}</li>\n          <li parentName=\"ol\">{`A multiple step wizard to generate credentials for your application will pop up. For the `}<inlineCode parentName=\"li\">{`Credential name`}</inlineCode>{` you can choose any name you want. For the rest of the otpions, try to provide the most premissive in each step for easeness.`}</li>\n          <li parentName=\"ol\">{`Once you have finished, you will be presented with the option to download the TLS certificates for your newly created Kafka User credentials as well as with a link to the instructions for retrieving these later.\n`}<span parentName=\"li\" {...{\n              \"className\": \"gatsby-resp-image-wrapper\",\n              \"style\": {\n                \"position\": \"relative\",\n                \"display\": \"block\",\n                \"marginLeft\": \"auto\",\n                \"marginRight\": \"auto\",\n                \"maxWidth\": \"1114px\"\n              }\n            }}>{`\n      `}<span parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"119.09722222222221%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAYCAYAAAD6S912AAAACXBIWXMAAAsTAAALEwEAmpwYAAADPUlEQVQ4y5VUS2sTURjNVheC/g1/gNtSuupSCoUWhCqu+gdE3Ci6c++qWylUcWXBrVSpFrFtmjSTeWQyeT8mk5kk85453u8mk07SxOqFw537Ovf7zvnuZMIwRBAEUywax3EMatQvQ9IyzWYTuVwO+XweqqpClmUUCgUUi0Vks1koisKJ/0aYrHHC9MZ0W3T7TY32Zvb29rC6uoqNjQ2sr69jbW0NKysrODo6wmg0QqfTga7rsG2bwzRNPu52u3xtMBjAdd2rCPf397G1tYXd3V3s7Oxge3sbm5ubODk54YR00DAMfsjzPE7Q6/U4kot8359NeVn4ZEjaJDo4bxjN0UXTlNvtNjekXq9zQwiapqFUKnGT6JtQq9WmY1qTJAnlchnVahX9fv+KkFKxLOtGsecdJURRdG1PhtgrlQqofChaEpr6RqPBoyLN/tVhriERCILA645SSdIRRZHXI11GexJXyYjEEJojJBnyCGmBDhOoiGlMB+lQEinpSxm0Wi3+TfPJGhGSMVNCx3H4DZQa1Vhal/9pM2VDhERGBiXN83zmaIW5WON1mD6UYkkZxieQCVlEDiMiuKyeAqq9KER/GKLWdVHXXTQNH13mjT4Egmji8NT1ePbp0WtQmH4q068kSygxQ2QyiOpMkRkUvq6IRVTLKkShgH5PR6tRh2kNYIyAthlj6E5S9s9+wsqdw7o4hZU9hZn9PQXNDXJnsC/HGOXHfSBdwhOyCC5+IfBZhsyTIJwQxiUBtj+EbbXhOQZC30LgMT1t0u0GgyoK4Ce6Two7lAV8K3o4PO7h87GOrxcejkXgB8N3IcZ5ORpvjhb8CzUFse9xFacuDwpF3H8O3H4U495T4M5j4O6TGLfYOPMwxoMXyf1zT5F6HuGYEAmhKwp4exjh1UGAN59CvPrg4/XHAC8PfDx7H+DdFx9RePWHSep0OSETt6IV4BoanH4FcDtAyP4ens4kZJra7NWw12OZfRjs9biOPdEr4ilfI4RaBHMeYtOH2ApQZc+yNhxDMwFn0atIR+i5s4SxlEfEbvLVMTxWe64iTRGqEuJyCpo8hioili9ZFtEcIdMHNgvHGS1FvGjeZmCapsmo/QHwPRNTs+KfHQAAAABJRU5ErkJggg==')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"order3\",\n                \"title\": \"order3\",\n                \"src\": \"/vaccine-solution-main/static/0f9b710fc88b5a32a2cf9e4934fba481/fe006/order3.png\",\n                \"srcSet\": [\"/vaccine-solution-main/static/0f9b710fc88b5a32a2cf9e4934fba481/7fc1e/order3.png 288w\", \"/vaccine-solution-main/static/0f9b710fc88b5a32a2cf9e4934fba481/a5df1/order3.png 576w\", \"/vaccine-solution-main/static/0f9b710fc88b5a32a2cf9e4934fba481/fe006/order3.png 1114w\"],\n                \"sizes\": \"(max-width: 1114px) 100vw, 1114px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n    `}</span>{`\nThese instructions will consist of finding out that a new secret with the same name you gave to your credentials (and Kafka User as a result) has been creating in the OpenShift project your IBM Event Streams instance is installed in. You can double check it by running:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get secrets -n <EVENTSTREAMS_NS> | grep <YOUR_CREDENTIALS_NAME>\n`}</code></pre>\n          </li>\n        </ol>\n        <p parentName=\"li\">{`Now that we have created a Kafka User with its corresponding TLS credentials to work with the internal Kafka listener and we know these TLS credentials are stored in a secret with the same name, we only need to copy that secret from the OpenShift project where it is (i.e. the OpenShift project where your IBM Event Streams instance has been deployed into) to the OpenShift project where we are deploying our vaccine order and optimization use case so that our applications can make use of it and be able to work with IBM Event Streams. To do so, execute:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret <CREDENTIALS_NAME> -n <EVENTSTREAMS_NS> -o json | jq -r '.metadata.name=\"tls-user\"' | jq --arg project_name \"<PROJECT_NAME>\" -r '.metadata.namespace=$project_name' | oc apply -f -\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<CREDENTIALS_NAME>`}</inlineCode>{` is the name you gave to the TLS Credentials you created above.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<EVENTSTREAMS_NS>`}</inlineCode>{` is the OpenShift project where your IBM Event Streams instance is deployed into and where the secret holding the TLS Credentials you created above ends up into as well as a result.`}</li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<PROJECT_NAME>`}</inlineCode>{` is the OpenShift project where you are deploying the vaccine order management and optimization use case into.`}</li>\n        </ul>\n        <p parentName=\"li\">{`You can see from the command above that we are renaming the secret from whatever your `}<inlineCode parentName=\"p\">{`<CREDENTIALS_NAME>`}</inlineCode>{` was to `}<inlineCode parentName=\"p\">{`tls-user`}</inlineCode>{` since this is the name of the secrets for the TLS credentials the deployment scripts to be executed next expect.`}</p>\n        <p parentName=\"li\">{`You can verify that a new secret called `}<inlineCode parentName=\"p\">{`tls-user`}</inlineCode>{` exists in the OpenShift project where you are deploying the vaccine order management and optimization use case by executing:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secrets\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Kafka topics configmap`}</strong></p>\n        <p parentName=\"li\">{`The last step before being able to deploy the Vaccine Order Manager microservice is to configure the configmap that will hold the values for the different Kafka topics as well as the Kafka bootstrap url this and other components of the use case will make use of. The configmap we refer to is called `}<inlineCode parentName=\"p\">{`kafka-topics-configmap.yaml`}</inlineCode>{` and can be found in the vaccine order manager for postgres GitHub repository you pulled down earlier under the `}<inlineCode parentName=\"p\">{`src/main/kubernetes`}</inlineCode>{` folder.`}</p>\n        <p parentName=\"li\">{`Open up that yaml file and provide a unique identifier where it says `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>`}</inlineCode>{` (this is needed when your IBM Event Streams instance is shared and other people may be deploying this scenario as well) and provide the Kafka bootstrap address for the internal Kafka listener where it says `}<inlineCode parentName=\"p\">{`<KAFKA_BOOTSTRAP_URL>`}</inlineCode>{`. You can get this Kafka bootstrap address as we saw before when Generating the internal TLS credentials:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"66.31944444444444%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+klEQVQ4y41Sy27aQBT117BhwZofYFWpa1Tafgqf002/gIhUtIFKIAeTEgVKg8FPjOsHNn5gwCdzJ3FatU7VkY7u3OvxmXvOHcH3fSyXS+i6DsdxoGkaz+fzOfb7PWjleY6yVVYXXNeFLMtQFAWqqnLEcYzT6YTz+cx/KmKBIi8jFdrtNqrVKur1OiqVCmq1GobDIegiwzAQBAGiKIJt2zBNkyshVYfDoZxwvV5jNBphPB5DFEUewzDkXRyPRx4J1DHlBSgvJaTbqQvyi26muN1un1F0ZlkWNpsN31Od/islJBIaRpIk3DsC7dM05bIoFqA6geovekgdrFYrPgzyh3yjXGP5+UnWvyb8FyF1R1MmL4nMJFlbC5ppwLAe9xR19o0k07Oi+KJkz/M4kcoO+rsdUibJ1ww4KxXuWoMjq/AUHTHzNmGyiShhthSD+h1ELuTsQ8ymmkaPjxhhAFe6gT5bwGJIbRfJ4h45U/I/S8jk7/AXdwh+zBCt7hGxvXXZhXJxAb3bhX11BefLZ+xnU5wtA96thMGnS/QHX9Hv95/R6/W4FUIgDqBMJ9BvxlAkESqL6jcJxi2rTSUok2sWJzxPNjrEjx/w9vUrvHn3Hs1mE61Wi6PRaKDT6UA47Txkjo3M/fkLlBd4yo8ekxz6oPMh85oe/5/IsgwP32zHAJhpV8EAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"order4\",\n            \"title\": \"order4\",\n            \"src\": \"/vaccine-solution-main/static/3415041026403853f45d81df93529065/3cbba/order4.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/3415041026403853f45d81df93529065/7fc1e/order4.png 288w\", \"/vaccine-solution-main/static/3415041026403853f45d81df93529065/a5df1/order4.png 576w\", \"/vaccine-solution-main/static/3415041026403853f45d81df93529065/3cbba/order4.png 1152w\", \"/vaccine-solution-main/static/3415041026403853f45d81df93529065/827ae/order4.png 1348w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`Once you have set those two parameters, you can create the configmap by executing:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f kafka-topics-configmap.yaml\n`}</code></pre>\n        <p parentName=\"li\">{`within the `}<inlineCode parentName=\"p\">{`src/main/kubernetes`}</inlineCode>{` folder of the vaccine order manager for postgres GitHub repository. You can checkout it has been properly created by executing”`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc describe configmap kafka-topics-cm\n`}</code></pre>\n      </li>\n    </ol>\n    <p>{`Only now that we have created the secrets containing the SSL certificates for establishing secure communication with IBM Event Streams and the mutual TLS certificates and credentials to authenticate and authorize against it too plus the configmap that holds the different Kafka topic names and the Kafka bootstrap url for our applications to produce to/consume from and establish communication with the Kafka brokers, we can proceed to deploy the Vaccine Order Manager for postgres component of our use case.`}</p>\n    <p>{`For doing so, we need to be, again, within the `}<inlineCode parentName=\"p\">{`src/main/kubernetes`}</inlineCode>{` folder in the Vaccine Order Manager for postgres repository. Once there, you can execute the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f configmap.yaml\n`}</code></pre>\n    <p>{`that will create the `}<inlineCode parentName=\"p\">{`vaccine-order-ms-cm`}</inlineCode>{` configmap that holds some configuration info for the application`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f rolebinding.yaml\n`}</code></pre>\n    <p>{`that will create the `}<inlineCode parentName=\"p\">{`vaccineorderms-view`}</inlineCode>{` role binding that will provide view ClusterRole role to the `}<inlineCode parentName=\"p\">{`vaccine-runtime`}</inlineCode>{` service account we created before that is responsible for providing an identity to the processes running in the pods we deploy. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f deployconfig.yaml\n`}</code></pre>\n    <p>{`that will, finally, deploy the Vaccine Order Manager for postgres component (which is actually a pod). You can check out the status of the `}<inlineCode parentName=\"p\">{`vaccineorderms-1-xxxxx`}</inlineCode>{` is `}<inlineCode parentName=\"p\">{`Running`}</inlineCode>{` after a min or so by executing:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get pods\n`}</code></pre>\n    <p>{`Finally, we need to make our newly deployed Vaccine Order Manager for postgres component available to be accessed and we do so by creating a Kubernetes service (makes a pod internally discoverable and accessible) and an OpenShift route (makes a service externally accessible) for the deployment we carried out in the previous step. For creating the Kubernetes service and the OpenShift route execute respectively:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f service.yaml\n`}</code></pre>\n    <p>{`and`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f route.yaml\n`}</code></pre>\n    <p>{`You can now access your Vaccine Order Manager for Postgres component of the use case by pointing your web browser to the route you just created. You can execute the following command to find out the route:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get routes\n`}</code></pre>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"34.72222222222222%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA70lEQVQoz42M60oCURSFz4tEEsSoQb96iN4oEi8R9AC9WJCOP/wRouBlBM/MmUmbOZdZ7bOzEHHSBR9r733WWeKq9YagN0St1WcuH3+oERcP72j2Brh/HeHuJUTQ6SPohnQLUSe/fR7i5ilEg/br9oBnsZBbeGbrDebEMvlCpHJESY6VKjCJFMZziY/ZGtNVyjef4dzO93cBkjUasZTIshSmyOFotzv8bHTBzliN/ySsddDGIFYZEkImKROzK2SbLT6JQlMxZY21cGVZiXDOoaTBUtCX/7q/+9m/HVPVnQtPyX8+pKr0r/DYp3NL9vUNCgUIvHRInfsAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"order5\",\n        \"title\": \"order5\",\n        \"src\": \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/3cbba/order5.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/7fc1e/order5.png 288w\", \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/a5df1/order5.png 576w\", \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/3cbba/order5.png 1152w\", \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/0b124/order5.png 1728w\", \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/4ea69/order5.png 2304w\", \"/vaccine-solution-main/static/e0ad729afb6c925ab1092263390b4a8d/690b9/order5.png 2534w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p><strong parentName=\"p\">{`Test the application`}</strong></p>\n    <p>{`Let’s see if we are able to create a new order and if this order gets stored in the postgres database we deployed earlier in this tutorial.`}</p>\n    <p>{`Click on the `}<inlineCode parentName=\"p\">{`ORDERS`}</inlineCode>{` tab on the top bar menu. You should see that there are three orders already pre-created.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"34.02777777777777%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAABHklEQVQoz32OzUrDQBSF8yZWQam60oXoQ/hAFv9AEV0KLnwXF+Ku6ya2BSlubNqKpC0mM5PJzBzvHdMQS/HCNzf35J4zE2ychmieR2icdNBodbDeCn3neY3YPAuxcxnh8LaH44c37F29Ypfmg5suju562L/uYvsiwla5F8SJRDwlqA8TgffxDB9faaWNpr+MZxIT4nOuMJhkeHwe4f5piH78TRrvCr8XYKm0EnS6crIrKYxBezDHSz+B0uaPP7DOocI6pFmGLBPI8xxSKg/PxlBQYaBIL4qC7iRgSDfkRZURODoYLu5pmno4UGsNpRSEEP6ftdZrHCikhFRleOn1L1wOXASxmW9nA1Of6zp//xvIxlXwSxkOWbyS9bqX6weEKAaqQ3koGgAAAABJRU5ErkJggg==')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"order6\",\n        \"title\": \"order6\",\n        \"src\": \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/3cbba/order6.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/7fc1e/order6.png 288w\", \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/a5df1/order6.png 576w\", \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/3cbba/order6.png 1152w\", \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/0b124/order6.png 1728w\", \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/4ea69/order6.png 2304w\", \"/vaccine-solution-main/static/6f8eb220a2f0bce2e40e57c2a881785d/cb919/order6.png 2526w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`Still, click on the `}<inlineCode parentName=\"p\">{`NEW ORDER`}</inlineCode>{` button on the top right corner of the `}<inlineCode parentName=\"p\">{`Orders`}</inlineCode>{` table, fill in the form with any `}<inlineCode parentName=\"p\">{`Organization`}</inlineCode>{` name and `}<inlineCode parentName=\"p\">{`Delivery Location`}</inlineCode>{` you want and click `}<inlineCode parentName=\"p\">{`SAVE`}</inlineCode>{`.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"28.47222222222222%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAqklEQVQY03WQ6w7DIAiFff9H21MsWfazizPeUPBM3GrariU50eABPjHLsoCIoNFawzE0d5a/CmOtRUoJIjKlDUIueAeaRpYG6Xnu7+pXiNW7lfHeI8aIWusUM8OFDB8zbveApy0o3IeQgKog5zykviOIKaUMgu2DdBrmqv/F40XwpGalxKB0zg1CbbCvE5gz7HVn2919720MWcnO6szVcv/NmOcxUm3IP30AerLaHFa+AIoAAAAASUVORK5CYII=')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"order7\",\n        \"title\": \"order7\",\n        \"src\": \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/3cbba/order7.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/7fc1e/order7.png 288w\", \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/a5df1/order7.png 576w\", \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/3cbba/order7.png 1152w\", \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/0b124/order7.png 1728w\", \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/4ea69/order7.png 2304w\", \"/vaccine-solution-main/static/e411bf83ea03049488ea89b8a81a99a5/25d2a/order7.png 2398w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`You should right away see the `}<inlineCode parentName=\"p\">{`Orders`}</inlineCode>{` table have got update with the new order.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"36.80555555555556%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAABYlAAAWJQFJUiTwAAAA9klEQVQoz42PTWoCQRCF53yKkEhcZJd9ThMVSXCRneAZvEFukBkDbgbERRRmpv+7X6p6aGkjiA2Pel0/X1cXw1mJh0WJ4ewbg+m1RvMST+8VXj5/8LraYUKe75OPLZ6XW4oVHmmeNV5UKIAAwKOPAU61FAz+53vPAvYnibdNjfXXIevp64Unn0sqBWsdnPMw1kIbA6UNeXe+C2VR/wrsj4JmwsV8ESiRq+s6NE0DrXX0ih7g6L2nRwhKwOD7bazRMc8nzZ+BKSmljAAGWt6IIue4loAmbq1jLQfyuQIKIdC2bRy6BdT3AnNxc/L89bQ1i+GpngP/AIe0D2qV6arWAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"order8\",\n        \"title\": \"order8\",\n        \"src\": \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/3cbba/order8.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/7fc1e/order8.png 288w\", \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/a5df1/order8.png 576w\", \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/3cbba/order8.png 1152w\", \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/0b124/order8.png 1728w\", \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/4ea69/order8.png 2304w\", \"/vaccine-solution-main/static/56462ee604515667969bb838116634e1/66381/order8.png 2536w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <p>{`However, this does not assure us the order has been committed to the database. In order to make sure of this, we are going to exec into the postgres container and manually check the order has been created in the table we are expecting it to be created. So, in order to exec into the postgres container, execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc rsh postgres-db-postgresql-0\n`}</code></pre>\n    <p>{`You should now have a shell running in the postgres container. Now, to check that our new order has been effectively committed into the database, execute the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`psql -U postgres\n`}</code></pre>\n    <p>{`which will launch the Postgres interpreter for the user `}<inlineCode parentName=\"p\">{`postgres`}</inlineCode>{` (remember that was the user we configured our Postgres deployment with)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`\\\\l\n`}</code></pre>\n    <p>{`to list all the databases in the Postgres deployment.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`\\\\c orderdb\n`}</code></pre>\n    <p>{`to connect to the `}<inlineCode parentName=\"p\">{`orderdb`}</inlineCode>{` database (this is the database we had our postgres deployment to create for the Vaccine Order Manager for Postgres component)`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`\\\\dt\n`}</code></pre>\n    <p>{`to display all the relations in the `}<inlineCode parentName=\"p\">{`orderdb`}</inlineCode>{` database. You should see here the different tables the Vaccine Order Manager for Postgres component will work with.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`select * from public.vaccineorderentity;\n`}</code></pre>\n    <p>{`to see all the orders that the Vaccine Order Manager for Postgres component is aware of. We can see here that our newly created order has been effectively committed into the database.`}</p>\n    <p>{`However, this is not all. That was one piece of the puzzle since we are not only interested on the new orders being created and stored in the database but, in fact, that these new orders are reflected on a different table in the format that the Debezium CDC for Postgres connector can then understand and use for sending these as events to IBM Event Streams (`}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/patterns/intro#transactional-outbox\"\n      }}>{`Outbox pattern`}</a>{`). In order to figure out where the `}<a parentName=\"p\" {...{\n        \"href\": \"https://debezium.io/documentation/reference/integrations/outbox.html\"\n      }}>{`Quarkus Outbox Extension`}</a>{` is creating those records ready to be sent into Kafka from a source table, we can checkout the application properties for the Vaccine Order Manager for Postgres component that you can find in its GitHub repository under `}<inlineCode parentName=\"p\">{`src/main/resources`}</inlineCode>{`. In there, you should see the `}<inlineCode parentName=\"p\">{`application.properties`}</inlineCode>{` file and within it you can see the configuration for the Quarkus Outbox Extension:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-properties\"\n      }}>{`quarkus.index-dependency.outbox.group-id=io.debezium\nquarkus.index-dependency.outbox.artifact-id=debezium-quarkus-outbox\nquarkus.debezium-outbox.table-name=orderevents\nquarkus.debezium-outbox.remove-after-insert=false\n`}</code></pre>\n    <p>{`and this tells us that we should see our new orders creating a new record in the `}<inlineCode parentName=\"p\">{`orderevents`}</inlineCode>{` table of our `}<inlineCode parentName=\"p\">{`orderdb`}</inlineCode>{` database in our Postgres deployment. To check it out, execute:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`select * from public.orderevents;\n`}</code></pre>\n    <p>{`Below is the kind of output you should see for the Postgres verification steps above:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc rsh postgres-db-postgresql-0 \n\n# psql -U postgres\npsql (11.11 (Debian 11.11-1.pgdg90+1))\nType \"help\" for help.\n\npostgres=# \\\\l\n                                 List of databases\n   Name    |  Owner   | Encoding |  Collate   |   Ctype    |   Access privileges   \n-----------+----------+----------+------------+------------+-----------------------\n orderdb   | postgres | UTF8     | en_US.utf8 | en_US.utf8 | \n postgres  | postgres | UTF8     | en_US.utf8 | en_US.utf8 | \n template0 | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +\n           |          |          |            |            | postgres=CTc/postgres\n template1 | postgres | UTF8     | en_US.utf8 | en_US.utf8 | =c/postgres          +\n           |          |          |            |            | postgres=CTc/postgres\n(4 rows)\n\npostgres=# \\\\c orderdb\nYou are now connected to database \"orderdb\" as user \"postgres\".\n\norderdb=# \\\\dt\n               List of relations\n Schema |        Name        | Type  |  Owner   \n--------+--------------------+-------+----------\n public | ordercreatedevent  | table | postgres\n public | orderevents        | table | postgres\n public | orderupdatedevent  | table | postgres\n public | vaccineorderentity | table | postgres\n(4 rows)\n\norderdb=# select * from public.vaccineorderentity;\n id | askingorganization |     creationdate     | deliverydate | deliverylocation | priority | quantity | status | vaccinetype \n----+--------------------+----------------------+--------------+------------------+----------+----------+--------+-------------\n  1 | Spain Government   | 10-Nov-2020 02:02:40 | 2021-02-24   | Madrid           |        1 |      200 |      0 | COVID-19\n  2 | French Government  | 15-Nov-2020 02:02:40 | 2021-01-10   | Paris            |        1 |      300 |      0 | COVID-19\n  3 | Italy Government   | 15-Nov-2020 02:02:40 | 2021-01-12   | Roma             |        1 |      400 |      0 | COVID-19\n 15 | Some organization  | 23-Mar-2021 15:50:16 | 2021-03-23   | Some place       |        2 |      150 |      0 | COVID-19\n(4 rows)\n\norderdb=# select * from public.orderevents;\n                  id                  |   aggregatetype    | aggregateid |     type     |         timestamp          |                                                            \n                                                payload                                                                                                             |             \n             tracingspancontext                           \n--------------------------------------+--------------------+-------------+--------------+----------------------------+------------------------------------------------------------\n--------------------------------------------------------------------------------------------------------------------------------------------------------------------+-------------\n----------------------------------------------------------\n a6fd9d05-aad0-48b5-896c-03c4f0fcabca | VaccineOrderEntity | 15          | OrderCreated | 2021-03-23 15:50:16.432121 | {\"orderID\":15,\"deliveryLocation\":\"Some place\",\"quantity\":15\n0,\"priority\":2,\"deliveryDate\":\"2021-03-23\",\"askingOrganization\":\"Some organization\",\"vaccineType\":\"COVID-19\",\"status\":\"OPEN\",\"creationDate\":\"23-Mar-2021 15:50:16\"} | #Tue Mar 23 \n15:50:16 GMT 2021                                        +\n                                      |                    |             |              |                            |                                                            \n                                                                                                                                                                    | uber-trace-i\nd=e1b6f1a45e8baa2f\\\\:e94b901fba282c6c\\\\:e1b6f1a45e8baa2f\\\\:0+\n                                      |                    |             |              |                            |                                                            \n                                                                                                                                                                    | \n(1 row)\n\norderdb=# \n`}</code></pre>\n    <h4>{`Deploy Kafka Connect`}</h4>\n    <p>{`Now that we have one part of the puzzle working, which is the Vaccine Order Manager for Postgres deployed and running where we have made sure new orders get created and properly stored in the Postgres database and the Quarkus Outbox Extension does it job preparing those records in the place and form the Debezium CDC for Postges connector can look for and understand, we can proceed to actually get that Debezium CDC for Postges connector to work.`}</p>\n    <p>{`However, for doing so we need a framework for it to run on. And this framework is `}<a parentName=\"p\" {...{\n        \"href\": \"https://kafka.apache.org/documentation/#connect\"\n      }}>{`Kafka Connect`}</a>{`. Kafka Connect is a tool for scalably and reliably streaming data between Apache Kafka and other systems. It makes it simple to quickly define connectors that move large collections of data into and out of Kafka.`}</p>\n    <p><strong parentName=\"p\">{`IMPORTANT:`}</strong>{` We assume you have deployed your IBM Event Streams instance with an `}<strong parentName=\"p\">{`internal TLS secured Kafka listener`}</strong>{` which your Kafka Connect cluster will use to connect. For more detail about listeners, check the IBM Event Streams documentation `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/event-streams/installing/configuring/#kafka-access\"\n      }}>{`here`}</a>{`. `}</p>\n    <p>{`Now, follow the next steps in order to get your Kafka Connect cluster deployed:`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Go to you IBM Event Streams dashboard, click on the `}<inlineCode parentName=\"p\">{`Find more on the toolbox`}</inlineCode>{` option.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"63.19444444444444%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB+ElEQVQ4y21TyY7TQBD1B4OjSJFyyU/wARy48AfAgRNcgBOCSWA0kwHNBE2IHa+9eM+jXjsdEkFLz91VXfVqawez2Qzz+dxhsVicztPpFJPJxCEMQ8HkhCdPqQ8dwsmo87aBtQZRFKEoCiRJgjzPkWUZrLXgOhww7mffHw8RSm3R9SIf+gu7IE1TEPv93oGk3KljEFUWeP3uCsvVd8SpwvVGI40fsdnuESUKH78lWG9S6DJHLvYBnYwx0Fr/sxPMeHW9xvJuj7fLFuHLAc/fD4hSgy9fr/Dh8y3uf+1gxFYpNRLqo/A/aK2QFRYvXq1wv9ni07rBszcWj7HG+vYGcRwLmULpbDWCsiwvMlLHC3/mfV4o3P18QCKtaCqFxhawRqGqKudbnoKfEdZ1jaZp0Pe9k2ncdZ2T27YRh9LJbUvdIM7G9bhtW6cn6BeQ2UciKReJqfPrICNkYH/P5QjkJVixG44jPhEyCkkIfz4f0DAMDhd2gtpodHUlLZAnJMEcoZ8yS2NUOpLIl+zLZmDuBDOy0W9owaAK9IIhS2CydOwhCWjoV32M5nUMQsLzkhshUJJZVUu2rFiyN2nyt4cESxkb3zpCXx6JufvBNXI/5Cl6kTtWQht52I6QGfqR83cjSEadl73uJAuJTWJXso520LE87N0WOs/wB8jyycyjN3BxAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Toolbox1\",\n            \"title\": \"Toolbox1\",\n            \"src\": \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/3cbba/connect-1.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/7fc1e/connect-1.png 288w\", \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/a5df1/connect-1.png 576w\", \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/3cbba/connect-1.png 1152w\", \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/0b124/connect-1.png 1728w\", \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/4ea69/connect-1.png 2304w\", \"/vaccine-solution-main/static/3e98cb0262b59cc2ccf9a764fe2949cf/caafe/connect-1.png 3242w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on the `}<inlineCode parentName=\"p\">{`Set up`}</inlineCode>{` button for the `}<inlineCode parentName=\"p\">{`Set up a Kafka Connect environment`}</inlineCode>{` option.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"81.25%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAACX0lEQVQ4y61UPW8TQRD1f/S/SKwACkVc0FLQpKBCAgmKJMI4MQ1pKKigIMEQgpRAEMiJHSPHPtv3sbcft/uY2Y3PNqRBYqyn092+fTvzZtaVarWKZrOJ7e1ttFotj93dXY9Go/HPqNTrdfzPqNxaW0Oa5RiNRkjTFEmSlIjjuMRkSs8k9ZwZj7//yaus392AtqCXFMYYWGtLOOfKk6UymCQCMs+RCQGtdcmbh0Pl9p115LlAp9PBcDhcys4Y2kSaugBVIdDrddHtBgwGA8/jbC2RmKMMCa6urHhtzq4oCv9kaGagwLtTg5XHBm9PNb1bWptXoE3gfLs02NgyuL+nSXB1Fbl2lEEGKWWJnErjzONUIJoITGIBkUuo6zVBZc/A2UdTgTGBBGvewymZnmXB8IzElVJL/iilSZjWaJ0Fbw4XMuRIyLOZ2EyQCRcj4PAH0I80pODupr6CxRBEPeoAx+ckWKvV/EcWCd5pD87IFgqvDiXu7UgcnLEIfw+cYItEYSTOBxIPXko83M9DyaqYCy6L0tGWMw2bWWzGCTzlhZXiw5grQ4a6cBiPJ16Uy2Yh3uDsfA4VHTAcRdSEYAk340YPWdDZws8V35bh1RU1aIo0SX1TDGV18CVFr5/QUAcPWTCKInxot3H8+ROOTjre548/7bwpi7eCw98U+iXjFJtPL/C+PVpa58FvNF5gZ+sZnjx/g8194NHr6zlkD+M4KWeQPQkHuIUDDIbjxI8Wl8+W/B2U4Rr9OVgqma/d4iUvaANVi++/HE66DlcTjVzwnGZl0xjOWUga5K+XwFnf4jdeWKhlUJxq0AAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Toolbox2\",\n            \"title\": \"Toolbox2\",\n            \"src\": \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/3cbba/connect-2.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/7fc1e/connect-2.png 288w\", \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/a5df1/connect-2.png 576w\", \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/3cbba/connect-2.png 1152w\", \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/0b124/connect-2.png 1728w\", \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/4ea69/connect-2.png 2304w\", \"/vaccine-solution-main/static/b25f62c3ba1a8e1e54ea8c6135360b11/08024/connect-2.png 3208w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Click on `}<inlineCode parentName=\"p\">{`Download Kafka Connect ZIP`}</inlineCode>{` button.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"64.2361111111111%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABc0lEQVQ4y4WTWW+DMBCE+VuJ8lKSPub/K20Q9w3lPvqQTj1Wl5KGqEijtY33Y7xrjBfziNPpFccj4wmmaeJ8PuuxrB0OB+x2O+z3+39lFB8tkrRAFIUoigJ1XaOqKh1FTdOgbduHuCVjHAdM44h5ntF1HXzfRxzH8DxvEdco13X1nImjyhmG4UEGIW3baRjdBEGgRUCSJHdORQRy/5aMvu/1gJGbLcuCbdsIw1ADsyxblOe5lszTNEVZllgz7oCsjRyRLqMo0mOuyXHXZeAawTzqUyCdCYhQOpJG/BVPJLnbQLVBnPh05Th3TVnXVxwS+hRYqZeO58NxFUwllOr6NMqdXCNGSpoicRuo6tCmMbL3C3LrDZlSeb2gjCMUqvC8oyKCmCcS2ALs2XIVx8gHvm6Q59Z8YMhTDNOEQb2XuyYQ0YPDBRgHqNW4ZNGnGUNFYIbup4vPIGv9Avn1wEVrX9F5Nj7TCLNzRZ8l6NRf0W8kb+kbYDqwcLY8z+EAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"Toolbox3\",\n            \"title\": \"Toolbox3\",\n            \"src\": \"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/3cbba/connect-3.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/7fc1e/connect-3.png 288w\", \"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/a5df1/connect-3.png 576w\", \"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/3cbba/connect-3.png 1152w\", \"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/0b124/connect-3.png 1728w\", \"/vaccine-solution-main/static/509590c8035c75fce7af2765a6d280f5/8cacc/connect-3.png 2294w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The above downloads a zip file which contains a `}<inlineCode parentName=\"p\">{`kafka-connect-s2i.yaml`}</inlineCode>{` file. Open that yaml file and take note of the `}<inlineCode parentName=\"p\">{`productID`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`cloudpakId`}</inlineCode>{` values as you will need these in the following step.`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"567px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"131.25%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsTAAALEwEAmpwYAAADdklEQVRIx31V2XLjNhDUbySmiIsACIo3dVmKbO2ZqrzmOf//GZ0GtKZlreSHqTHKQrN7pmewkCKHXk0I/Q5922PbVHhuK4yVR2UNaleg8TaFFALL5RJ5ns9xe15IKaCrAWE8oi0tgpEojYJVEoI//vPpaY5llhEgSyAZ4w3sGnShlYI0DuX+J7rNCcOwRnAOdVmi9B5CakhdQCjNMCknEowHDCUBLbRfQboawrcpS3c5a2ZdtlA28Dd1CmsMQqHvAyoCKl5ywxE21KgbD60lMkrMKPFePMX8SHJRUIa28OsvKNdnlN2GrCqs2IyudHPugkuN6ZlbnrMbZjOg0ayNZBO6ZxjKuXxNQLGj8k4oKe52ewa0bEDOfxZVj7D/AdtsYUKfauecTRevI7s53wYls4Px62RpugMKhmKDnsjyj4wAuZi/LmKIS75mdX2eAXPGYB1exwNO0xFf+wl/DyO6qk2dL8oGKxp9vSrRspaxrrGecQBijufAfiwcJUfAGK0rsd99w5bSz+sd/t22eK3jBZ+aUtIqdQKzGMJlkn6zzbtkFtp4yGYH1e6xXK3haO4Nx/DQrRKTxhdpFG9H70MNrbUzw0CGIxkOZLjZvODLdo/9sEGoGkr12BN8Wvlkn4rAUarV6oOF3mtIg3ecgG/jM74ff+IHR/C/KeCfzqMOl/p4o9O8R8lx9B4Y+5dkdi/nrOr+CD2coPoTdLdDu5kwkJmJy4IX3nx4C/T298JRck7LuP5AD8a6cfxCQEWZTd1Bc86jycWvS9c+vK7hB4Z5voThCitoahta1AQqOddxxDo2IkqNIxhlR8so+cmkuLdJqcmOUt34Arf5DjudCdzg69RgWwe8DA12TcB5bC+NyD4FzGDbHfz0Cj+euCjOKYfxL9TDDmE4oGlbePou1vLe2npfDuxslBx3nqmmFAW9aOjDgn6Mz4OpWYqy4hIRaXUtH6z/maEqBBz9ZRkFJ8CEksvCQ5n3TS252T8YOn/AMDZFGnGpY6n4WPFdGbgfawPHMF5BWwnjmGNY9VDuLDkCGqcJqOEbS7b8CLe2KtTdS8kqjwB9yfmlZN8UWK092XEqRi6CziZWUon7nrvx3weGQvFtJhtXFymKYFg/Pl5apEYsaZEUd0bt943NSYmSo8TIrN7w+WQdPRnGHJn6tkj1i8v1M7AY/wMQZ+GwiU2W2AAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"connect4\",\n            \"title\": \"connect4\",\n            \"src\": \"/vaccine-solution-main/static/8726d399b0947fbf285cd89e391ca130/a0efd/connect-4.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/8726d399b0947fbf285cd89e391ca130/7fc1e/connect-4.png 288w\", \"/vaccine-solution-main/static/8726d399b0947fbf285cd89e391ca130/a0efd/connect-4.png 567w\"],\n            \"sizes\": \"(max-width: 567px) 100vw, 567px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ol>\n    <p>{`However, instead of using that `}<inlineCode parentName=\"p\">{`kafka-connect-s2i.yaml`}</inlineCode>{` we are going to use the one provided within the `}<inlineCode parentName=\"p\">{`environment/cdc`}</inlineCode>{` folder of the Vaccine Order Manager for Postgres GitHub repository. If you open up that file you will see the following placeholders:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<UNIQUE_ID>`}</inlineCode>{` which you should replace for a unique identifier in the case that your IBM Event Streams instance is shared. We have previously used `}<inlineCode parentName=\"li\">{`demo`}</inlineCode>{` as the unique id for the Kafka topic names in the configmap we created ahead of deploying the Vaccine Order Manager for Postgres component so we will use that one again for grouping resources being deployed for this use case.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<GET_IT_FROM_EVENTSTREAMS>`}</inlineCode>{` which should be replaced with the `}<inlineCode parentName=\"li\">{`productID`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`cloudpakId`}</inlineCode>{` values you obtained in the previous step.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<KAFKA_BOOTSTRAP_URL>`}</inlineCode>{` which is the internal Kafka listener bootstrap address. You can check the previous section where we deployed the Vaccine Order Manager for Postgres microservice where we created a configmap with the kafka topics names and the IBM Event Streams internal Kafka listener bootstrap address in order to see how to find out this value.`}</li>\n    </ul>\n    <p>{`If we carefully inspect this yaml that would get a Kafka Connect cluster deployed, we should realise that we still have to create a secret called `}<inlineCode parentName=\"p\">{`postgres-connector`}</inlineCode>{` ahead of time that will be loaded as external configuration. This `}<inlineCode parentName=\"p\">{`postgres-connect`}</inlineCode>{` secret will hold the configuration that, later, the Debezium CDC for Postgres connector will need to function. In order to create that secret, we provide a file called `}<inlineCode parentName=\"p\">{`connector.properties`}</inlineCode>{` also under the `}<inlineCode parentName=\"p\">{`environment/cdc`}</inlineCode>{` folder of the Vaccine Order Manager for Postgres GitHub repository.`}</p>\n    <p>{`Again, if you open up that file you will see the following placeholders:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<UNIQUE_ID>`}</inlineCode>{` which you should replace for a unique identifier in the case that your IBM Event Streams instance is shared. We have previously used `}<inlineCode parentName=\"li\">{`demo`}</inlineCode>{` as the unique id for the Kafka topic names in the configmap we created ahead of deploying the Vaccine Order Manager for Postgres component so we will use that one again. In fact, it is `}<strong parentName=\"li\">{`IMPERATIVE`}</strong>{` that we use the same unique identifier as the one we used for the Kafka topics names. The reason for this is that the Debezium CDC for Postgres connector will be watching out for new records on the tables of our Postgres deployment that are specified in its `}<inlineCode parentName=\"li\">{`table-whitelist`}</inlineCode>{` configuration variable. And will send those new records as events to a Kafka topic named the same as the table name specified in the `}<inlineCode parentName=\"li\">{`table-whitelist`}</inlineCode>{` configuration variable prefixed with the value of its `}<inlineCode parentName=\"li\">{`database-server-name`}</inlineCode>{` configuration variable. If you work that out, you see that the `}<inlineCode parentName=\"li\">{`ORDER_TOPIC`}</inlineCode>{` value we define in the configmap holding the Kafka topic names was and must be `}<inlineCode parentName=\"li\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{`, as this is where the events will end up based on the Debezium CDC for Postgres connector configuration properties file.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<SCRAM_USERNAME>`}</inlineCode>{` and `}<inlineCode parentName=\"li\">{`<SCRAM_PASSWORD>`}</inlineCode>{` are the credentials for the IBM Event Streams external Kafka listener. We said earlier that We assume you have deployed your IBM Event Streams instance with an internal TLS secured Kafka listener and we are, indeed, using that internal Kafka listener for the communication between the Kafka Connect cluster we are about to deploy and your IBM Event Streams cluster. You can see so by looking at the `}<inlineCode parentName=\"li\">{`<KAFKA_BOOTSTRAP_URL>`}</inlineCode>{` explanation in the paragraph above for the placeholders of the `}<inlineCode parentName=\"li\">{`kafka-connect-s2i.yaml`}</inlineCode>{` provided within the `}<inlineCode parentName=\"li\">{`environment/cdc`}</inlineCode>{` folder of the Vaccine Order Manager for Postgres GitHub repository. Now, why do we then need a new set of credentials (this time for the external Kafka listener that IBM Event Streams is expected to be deployed with) as well? The reason for this is that it is possible for a schema registry to be hosted somewhere completely different from Kafka & doesn’t have to use Kafka for storage either but you would still want that https traffic coming into your schema registry to be authenticated and authorised. In order for IBM Event Streams to authenticate and authorize that incoming https traffic against an IBM Event Streams Kafka User, it needs to be proxied and that is the reason for any communication with the IBM Event Streams Schema Registry to go through the external Kafka listener on port 9443 (if using the internal Kubernetes service) or 443 (if using the OpenShift route). To create a set of SCRAM credentials (which creates a new Kafka User behind the scenes) see this post `}<a parentName=\"li\" {...{\n          \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/overview/pre-requisites#generate-scram-service-credentials\"\n        }}>{`here`}</a>{`.`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<SCHEMA_REGISTRY_URL>`}</inlineCode>{` is the IBM Event Streams Schema Registry url that you can find executing the following command:`}\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get routes -n <EVENTSTREAMS_NS> | grep ac-reg-external\n`}</code></pre>\n      </li>\n    </ul>\n    <p>{`In order to create that `}<inlineCode parentName=\"p\">{`postgres-connector`}</inlineCode>{` secret that holds the Debezium CDC for Postgres connector configuration out of the `}<inlineCode parentName=\"p\">{`connector.properties`}</inlineCode>{` file we have just adjusted to our environment, we only need to run the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc create secret generic postgres-connector --from-file=./connector.properties\n`}</code></pre>\n    <p>{`One last thing to do before deploying our Kafka Connect cluster is the need to copy the secret that holds your IBM Entitlement Key over from the OpenShift project where you have IBM Event Streams deployed into. This IBM Entitlement Key is needed to download any IBM product Docker image from IBM’s private Docker registry in Quay. This is something you must have present in all your OpenShift projects where you want IBM software to be deployed into. In order to copy that IBM Entitlement Key secret from the OpenShift project where you have your IBM Event Streams instance deployed into, execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get secret ibm-entitlement-key -n <EVENTSTREAMS_NS> -o json | jq --arg project_name \"<PROJECT_NAME>\" -r '.metadata.namespace=$project_name' | oc apply -f -\n`}</code></pre>\n    <p>{`where`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<EVENTSTREAMS_NS>`}</inlineCode>{` is the OpenShift project where your IBM Event Streams instance is deployed into (`}<inlineCode parentName=\"li\">{`eventstreams`}</inlineCode>{` in this tutorial).`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<PROJECT_NAME>`}</inlineCode>{` is the OpenShift project where you are deploying your Kafka Connect cluster into (`}<inlineCode parentName=\"li\">{`vaccine-omo`}</inlineCode>{` in this tutorial).`}</li>\n    </ul>\n    <p>{`Finally, we are all set to deploy our Kafka Connect cluster. In order to do so, we only need to execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f kafka-connect-s2i.yaml\n`}</code></pre>\n    <p>{`You can watch all the resources being created as a result and their progress by executing:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`watch -n 5 oc get all\n`}</code></pre>\n    <p>{`after a couple of minutes or so you should see something like this:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`NAME                                         READY   STATUS      RESTARTS   AGE\npod/connect-cluster-demo-connect-1-5d7f9     1/1     Running     0          65s\npod/connect-cluster-demo-connect-1-build     0/1     Completed   0          102s\npod/connect-cluster-demo-connect-1-deploy    0/1     Completed   0          66s\npod/postgres-db-postgresql-0                 1/1     Running     0          46h\npod/vaccineorderms-1-deploy                  0/1     Completed   0          19h\npod/vaccineorderms-1-jsx8n                   1/1     Running     0          19h\n\nNAME                                                    DESIRED   CURRENT   READY   AGE\nreplicationcontroller/connect-cluster-demo-connect-1    1         1         0       67s\nreplicationcontroller/vaccineorderms-1                  1         1         1       19h\n\nNAME                                        TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)    AGE\nservice/connect-cluster-demo-connect-api    ClusterIP   172.21.173.130   <none>        8083/TCP   105s\nservice/postgres-db-postgresql              ClusterIP   172.21.130.178   <none>        5432/TCP   46h\nservice/postgres-db-postgresql-headless     ClusterIP   None             <none>        5432/TCP   46h\nservice/vaccineorderms                      ClusterIP   172.21.157.216   <none>        8080/TCP   19h\n\nNAME                                      READY   AGE\nstatefulset.apps/postgres-db-postgresql   1/1     46h\n\nNAME                                                               REVISION   DESIRED   CURRENT   TRIGGERED BY\ndeploymentconfig.apps.openshift.io/connect-cluster-demo-connect    1          1         1         config,image(connect-cluster-demo-connect:latest)\ndeploymentconfig.apps.openshift.io/vaccineorderms                  1          1         1         config\n\nNAME                                                           TYPE     FROM     LATEST\nbuildconfig.build.openshift.io/connect-cluster-demo-connect    Source   Binary   1\n\nNAME                                                       TYPE     FROM   STATUS     STARTED              DURATION\nbuild.build.openshift.io/connect-cluster-demo-connect-1    Source          Complete   About a minute ago   36s\n\nNAME                                                                  IMAGE REPOSITORY                                                                                    TAGS\n                                                           UPDATED\nimagestream.image.openshift.io/connect-cluster-demo-connect           image-registry.openshift-image-registry.svc:5000/vaccine-omo/connect-cluster-demo-connect           latest\n                                                           About a minute ago\nimagestream.image.openshift.io/connect-cluster-demo-connect-source    image-registry.openshift-image-registry.svc:5000/vaccine-omo/connect-cluster-demo-connect-source    4c6aa063\nae06dbae9acdd3ad0200e89205d86fc4b93b07f835817a7bee929c2a   About a minute ago\n\nNAME                                      HOST/PORT                                                                                                             PATH   SERVICES\n      PORT   TERMINATION   WILDCARD\nroute.route.openshift.io/vaccineorderms   vaccineorderms-vaccine-omo.assets-arch-eda-6ccd7f378ae819553d37d5f2ee142bd6-0000.us-east.containers.appdomain.cloud   /      vaccineorde\nrms   8080                 None\n`}</code></pre>\n    <p>{`where we can see the pod `}<inlineCode parentName=\"p\">{`connect-cluster-demo-connect-1-xxxxx`}</inlineCode>{` is running. This means your Kafka Connect cluster is running. However, we can see some other resources have been created as a result of telling OpenShift to deploy a Kafka Connect cluster. Amongst these you can see a couple of Image Streams (to build a Docker image from source code), a Build Config, a Build, a Deployment Config, etc. It is not the goal of this tutorial to explain what goes on behind the scenes when deploying a Kafka Connect cluster using the KafkaConnectS2I (kafka connect source to image) construct but it is something we highly recommend students investigating.`}</p>\n    <p>{`Now that we have our Kafka Connect cluster running, one thing we can check out is whether there is any connector configured in it that may be running. In order to do so, we are going to poke the `}<inlineCode parentName=\"p\">{`/connectors`}</inlineCode>{` API that the Kafka Connect Framework exposes. In order to do so, execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc exec -it <KAFKA_CONNECT_POD_NAME> -- curl localhost:8083/connectors\n`}</code></pre>\n    <p>{`where`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<KAFKA_CONNECT_POD_NAME>`}</inlineCode>{` is the pod name of your Kafka Connect cluster (in this tutorial is `}<inlineCode parentName=\"li\">{`connect-cluster-demo-connect-1-5d7f9`}</inlineCode>{`).`}</li>\n    </ul>\n    <p>{`You should see `}<inlineCode parentName=\"p\">{`[]`}</inlineCode>{` as the output for the command above since there should not be any connector configured and running yet in your Kafka Connect cluster. This is something we are going to see in the next section.`}</p>\n    <p>{`Another thing we can check out is the connector plugins registered in our Kafka Connect cluster. That is the available plugins to create/instantiate a connector from. In order to see a list of the connector plugins in our Kafka Connect cluster, execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc exec -it <KAFKA_CONNECT_POD_NAME> -- curl localhost:8083/connector-plugins\n`}</code></pre>\n    <p>{`and you should see an output like:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`[\n  {\n    \"class\": \"org.apache.kafka.connect.file.FileStreamSinkConnector\",\n    \"type\": \"sink\",\n    \"version\": \"2.6.0\"\n  },\n  {\n    \"class\": \"org.apache.kafka.connect.file.FileStreamSourceConnector\",\n    \"type\": \"source\",\n    \"version\": \"2.6.0\"\n  },\n  {\n    \"class\": \"org.apache.kafka.connect.mirror.MirrorCheckpointConnector\",\n    \"type\": \"source\",\n    \"version\": \"1\"\n  },\n  {\n    \"class\": \"org.apache.kafka.connect.mirror.MirrorHeartbeatConnector\",\n    \"type\": \"source\",\n    \"version\": \"1\"\n  },\n  {\n    \"class\": \"org.apache.kafka.connect.mirror.MirrorSourceConnector\",\n    \"type\": \"source\",\n    \"version\": \"1\"\n  }\n]\n`}</code></pre>\n    <p>{`where there is no Debezium CDC for Postgres connector plugin.`}</p>\n    <h4>{`Deploy Debezium CDC Postgres connector`}</h4>\n    <p>{`We have seen in the previous section that the Kafka Connect cluster we have just deployed does not contain any connector configured and running yet. And this makes sense since we have only deployed the Kafka Connect Cluster, with the configuration we will need for the Debezium CDC for Postgres connector that we plan to execute afterwards but we yet need to do two things for that:`}</p>\n    <ol>\n      <li parentName=\"ol\">{`Provide the actual Debezium CDC for Postgres connector binaries. That is, the binaries our Kafka Connect cluster will use when instantiating a Debezium CDC for Postgres connector.`}</li>\n      <li parentName=\"ol\">{`Register, that is instantiate, a Debezium CDC for Postgres connector for our use case so that we get the records stored by the Vaccine Order Manager for Postgres microservice in our Postgres deployment in the `}<inlineCode parentName=\"li\">{`public.orderevents`}</inlineCode>{` table of its `}<inlineCode parentName=\"li\">{`orderdb`}</inlineCode>{` database as events in the `}<inlineCode parentName=\"li\">{`demo.vaccine.public.orderevents`}</inlineCode>{` Kafka topic as we saw, explained and configured earlier in this tutorial.`}</li>\n    </ol>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Debezium CDC Postgres connector binaries`}</strong></p>\n        <p parentName=\"li\">{`You can find the latest Debezium CDC for Postgres connector binaries `}<a parentName=\"p\" {...{\n            \"href\": \"https://repo1.maven.org/maven2/io/debezium/debezium-connector-postgres/\"\n          }}>{`here`}</a>{`. Go into the folder for the latest version which should be called `}<inlineCode parentName=\"p\">{`X.Y.Z.Final`}</inlineCode>{`. Within that folder find the file called `}<inlineCode parentName=\"p\">{`debezium-connector-postgres-X.Y.Z.Final-plugin.tar.gz`}</inlineCode>{` and download it. Once downloaded, untar the file. You will see several jar files. Something like:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`debezium-api-1.4.0.Final.jar\ndebezium-connector-postgres-1.4.0.Final.jar\ndebezium-core-1.4.0.Final.jar\nfailureaccess-1.0.1.jar\nguava-30.0-jre.jar\npostgresql-42.2.14.jar\nprotobuf-java-3.8.0.jar\n`}</code></pre>\n        <p parentName=\"li\">{`They all are needed and what is more important is that we need to provide any connector to our Kafka Connect cluster `}<strong parentName=\"p\">{`within the following structure`}</strong>{`:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{` - /connectors\n   |\n     - /connector1\n       |\n         - jar1\n         ...\n         - jarN\n       ...\n     - /connectorN\n`}</code></pre>\n        <p parentName=\"li\">{`However, if you pay a close look at the jar files within the Debezium CDC for Postgres connector tar file we have downloaded, you will not see any jar file around Apicurio which is the schema registry IBM Event Streams deploys which we want to interact with. That is, we want the Debezium CDC for Postgres connector to automatically interact with IBM Event Streams Schema Registry for the events to be sent to comply with a schema and are serialized using the `}<a parentName=\"p\" {...{\n            \"href\": \"http://avro.apache.org/\"\n          }}>{`Apache Avro protocol`}</a>{`. For doing this, we need to provide more binaries for our Debezium CDC for Postgres connector (see this `}<a parentName=\"p\" {...{\n            \"href\": \"https://debezium.io/blog/2020/04/09/using-debezium-with-apicurio-api-schema-registry/\"\n          }}>{`Debezium post`}</a>{` and this `}<a parentName=\"p\" {...{\n            \"href\": \"https://debezium.io/documentation/reference/configuration/avro.html\"\n          }}>{`Debezium post`}</a>{` for further detail).`}</p>\n        <p parentName=\"li\">{`To get all the extra binaries we need for our Debezium CDC for Postgres connector to automatically interact with the IBM Event Streams Apicurio Schema Registry and the Avro protocol, download the `}<inlineCode parentName=\"p\">{`Apicurio Registry Distro Connect Converter`}</inlineCode>{` package from the Maven Central repository `}<a parentName=\"p\" {...{\n            \"href\": \"https://mvnrepository.com/artifact/io.apicurio/apicurio-registry-distro-connect-converter\"\n          }}>{`here`}</a>{`. Click on the latest `}<inlineCode parentName=\"p\">{`X.Y.Z.Final`}</inlineCode>{` version and then click on the `}<inlineCode parentName=\"p\">{`View All`}</inlineCode>{` link displayed in the `}<inlineCode parentName=\"p\">{`Files`}</inlineCode>{` row within the table displayed under the title of the package. This will drive you to a the location where you should find a file called `}<inlineCode parentName=\"p\">{`apicurio-registry-distro-connect-converter-X.Y.Z.Final-converter.tar.gz`}</inlineCode>{`. Download this file and untar it. Then, copy all the `}<inlineCode parentName=\"p\">{`jar`}</inlineCode>{` files with the other Debezium CDC for Postgres connector jar files in the connectors folder structure explained above.`}</p>\n        <p parentName=\"li\">{`You should now have a list of jar files like the following (at the time of writting this tutorial March 2021):`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`annotations-13.0.jar\napicurio-registry-common-1.3.2.Final.jar\napicurio-registry-rest-client-1.3.2.Final.jar\napicurio-registry-utils-converter-1.3.2.Final.jar\napicurio-registry-utils-serde-1.3.2.Final.jar\navro-1.10.0.jar\ncommons-compress-1.20.jar\nconnect-json-2.4.0.jar\nconverter-jackson-2.9.0.jar\ndebezium-api-1.2.0.Final.jar\ndebezium-connector-postgres-1.2.0.Final.jar\ndebezium-core-1.2.0.Final.jar\njackson-annotations-2.11.3.jar\njackson-core-2.11.3.jar\njackson-databind-2.11.3.jar\njackson-datatype-jdk8-2.11.3.jar\nkotlin-reflect-1.3.72.jar\nkotlin-stdlib-1.3.72.jar\nkotlin-stdlib-common-1.3.72.jar\nmedeia-validator-core-1.1.1.jar\nmedeia-validator-jackson-1.1.1.jar\nokhttp-3.14.9.jar\nokio-1.17.2.jar\npostgresql-42.2.12.jar\nprotobuf-java-3.13.0.jar\nretrofit-2.9.0.jar\n`}</code></pre>\n        <p parentName=\"li\">{`We are finally ready to upload the Debezium CDC for Postgres connector binaries to our Kafka Connect cluster. To do so, we need to start a new build of our build resource created as a result of having created a KafkaConnectS2I resource when we deployed the Kafka Connect cluster. This will build the source code for Kafka Connect once again but this time we are going to provide Debezium CDC for Postgres connector binaries to the build process so that these are then processed by the Kafka Connect Framework and the Debezium CDC for Postgres connector plugin is available as a result to be instantiated and used. In order to kick off a new build of Kafka Connect with the Debezium CDC for Postgres connector binaries execute the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc start-build <BUILD> --from-dir <CONNECTORS_DIR> --follow\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<BUILD>`}</inlineCode>{` is the build resource name created as a result of having created a KafkaConnectS2I resource when deploying a Kafka Connect cluster. You can find the name of your Kafka Connect build by executing the following command:`}\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get build\n`}</code></pre>\n            {`where the name should be like `}<inlineCode parentName=\"li\">{`connect-cluster-<UNIQUE_ID>-connect`}</inlineCode></li>\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<CONNECTORS_DIR>`}</inlineCode>{` is the path to the directory containing the different connectors’ binaries we want to build our Kafka Connect cluster with which we created above containing all the Debezium CDC for Postgres connector binaries. `}<strong parentName=\"li\">{`IMPORTANT:`}</strong>{` the path should point to the outter folder containing a folder per connector. That is, something like `}<inlineCode parentName=\"li\">{`./connectors`}</inlineCode>{` if we were to execute the command from the folder where we have the `}<inlineCode parentName=\"li\">{`connectors`}</inlineCode>{` folder rather than `}<inlineCode parentName=\"li\">{`./connectors/connector1`}</inlineCode>{`.`}</li>\n        </ul>\n        <p parentName=\"li\">{`After executing this command, you should see in your terminal the output of the build process with the binaries upload, the docker image creation, etc.`}</p>\n        <p parentName=\"li\">{`If you watch all the resources in your OpenShift project with `}<inlineCode parentName=\"p\">{`watch -n oc get all`}</inlineCode>{`, you should see a new build resource, the desired replicas for the replica controller resource for the first Kafka Connect cluster down to 0 while the desired replicas for the replica controller resource for the second Kafka Connect cluster is set to 1, etc… Finally, you should see a new `}<inlineCode parentName=\"p\">{`build`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`deploy`}</inlineCode>{` pods for this second iteration of the Kafka Connect cluster and the most important pod, the pod where our Kafka Connect cluster runs into that should be called `}<inlineCode parentName=\"p\">{`connect-cluster-demo-connect-2-xxxxx`}</inlineCode>{`, with `}<inlineCode parentName=\"p\">{`STATUS`}</inlineCode>{` equal to `}<inlineCode parentName=\"p\">{`Running`}</inlineCode>{`.`}</p>\n        <p parentName=\"li\">{`If we now poke the `}<inlineCode parentName=\"p\">{`/connector-plugins`}</inlineCode>{` API endpoint of our Kafka Connect cluster by executing:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc exec -it <KAFKA_CONNECT_POD_NAME> -- curl localhost:8083/connector-plugins\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<KAFKA_CONNECT_POD_NAME>`}</inlineCode>{` is the name of the pod running our Kafka Connect cluster (`}<inlineCode parentName=\"li\">{`connect-cluster-demo-connect-2-xxxxx`}</inlineCode>{`)`}</li>\n        </ul>\n        <p parentName=\"li\">{`we should see that the Debezium CDC for Postgres connector plugin is now listed:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`[\n{\n  \"class\": \"io.debezium.connector.postgresql.PostgresConnector\",\n  \"type\": \"source\",\n  \"version\": \"1.2.0.Final\"\n},\n{\n  \"class\": \"org.apache.kafka.connect.file.FileStreamSinkConnector\",\n  \"type\": \"sink\",\n  \"version\": \"2.6.0\"\n},\n{\n  \"class\": \"org.apache.kafka.connect.file.FileStreamSourceConnector\",\n  \"type\": \"source\",\n  \"version\": \"2.6.0\"\n},\n{\n  \"class\": \"org.apache.kafka.connect.mirror.MirrorCheckpointConnector\",\n  \"type\": \"source\",\n  \"version\": \"1\"\n},\n{\n  \"class\": \"org.apache.kafka.connect.mirror.MirrorHeartbeatConnector\",\n  \"type\": \"source\",\n  \"version\": \"1\"\n},\n{\n  \"class\": \"org.apache.kafka.connect.mirror.MirrorSourceConnector\",\n  \"type\": \"source\",\n  \"version\": \"1\"\n}\n]\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><strong parentName=\"p\">{`Register a Debezium CDC for Postgres connector`}</strong></p>\n        <p parentName=\"li\">{`The last piece of the Outbox pattern is to get a Debezium CDC for Postgres connector instantiated in our Kafka Connect cluster now that we have both the Kafka Connect cluster running with the Debezium CDC for Postgres connector binaries in it and the resulting connector plugin available as a result. For getting a Debezium CDC for Postgres connector instantiated, we provide, within the `}<inlineCode parentName=\"p\">{`environment/cdc`}</inlineCode>{` folder of the Vaccine Order Manager for Postgres GitHub repository, a file called `}<inlineCode parentName=\"p\">{`pg-connector.yaml`}</inlineCode>{` which is nothing but the definition of a KafkaConnect resource. The Debezium CDC for Postgres connector specification within that KafkaConnect resource has been parametrized so that all its configuration is taken from the environment it runs on. That is, it will take its configuration from the `}<inlineCode parentName=\"p\">{`postgres-connector`}</inlineCode>{` secret we load as external configuration when we deployed our Kafka Connect cluster if you remember the `}<inlineCode parentName=\"p\">{`kafka-connect-s2i.yaml`}</inlineCode>{` file. And, if you remember, the configuration from that secret comes from the `}<inlineCode parentName=\"p\">{`connector.properties`}</inlineCode>{`. However, as in with practically all the resources we’ve created so far for this use case, we would still need to provide a unique identifier (`}<inlineCode parentName=\"p\">{`demo`}</inlineCode>{` in this tutorial) for the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>`}</inlineCode>{` placeholder you can find for that KafkaConnect resource in the `}<inlineCode parentName=\"p\">{`pg-connector.yaml`}</inlineCode>{` file. Provide that unique identifier and then execute the following command to get that KafkaConnect resource created and a Debezium CDC for Postgres connector instantiated within your Kafka Connect cluster as a result:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f pg-connector.yaml\n`}</code></pre>\n        <p parentName=\"li\">{`After a minute or so, you can check the logs for the `}<inlineCode parentName=\"p\">{`connect-cluster-demo-connect-2-xxxxx`}</inlineCode>{` pod to see some output refering to the newly created Debezium CDC for Postgress connector instance whose name is `}<inlineCode parentName=\"p\">{`pg-connector-apicurio`}</inlineCode>{`. You can also execute `}<inlineCode parentName=\"p\">{`oc describe kafkaconnector pg-connector-apicurio`}</inlineCode>{` to see the details of that newly created Kafka Connector. These two validations are kind of in depth validations. For something easier, we can poke the `}<inlineCode parentName=\"p\">{`/connectors`}</inlineCode>{` API of our Kafka Connect cluster to see if a new connector has been registered and instantiated. To do so execute:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc exec -it <KAFKA_CONNECT_POD_NAME> -- curl localhost:8083/connectors\n`}</code></pre>\n        <p parentName=\"li\">{`where`}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\"><inlineCode parentName=\"li\">{`<KAFKA_CONNECT_POD_NAME>`}</inlineCode>{` is the pod name of your Kafka Connect cluster (in this tutorial is `}<inlineCode parentName=\"li\">{`connect-cluster-demo-connect-2-xxxxx`}</inlineCode>{`).`}</li>\n        </ul>\n        <p parentName=\"li\">{`You should see the following output:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`[\"pg-connector-apicurio\"]\n`}</code></pre>\n        <p parentName=\"li\">{`Also, if you go to the topics section in your IBM Event Streams User Interface and filter for `}<inlineCode parentName=\"p\">{`demo`}</inlineCode>{`, you should see the following topics at least:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"46.875%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRklEQVQoz62Rv0vDQBzF79+yf0ZbzCBCEVycHeyu2CR1qJNzF0fB3YogOjp1KA00IXuTNknzu8+8bw22FcHBgw/fd3fvvnl3UY3GAQaDAUzThK7rMAzjT9Db6/UEXTeqaqDfv4E6OT1DUeQoyxL/MdTRcQfBcon5fA7f93+wWCwE6mXlYw2CAOPxGKPRE0bPL3h893D/muHDiqA07RCO42AymWA2m+1g2zam06nAOT2WZcF1XQyHQ3S7F7i8usb5nYXOrY+HN48NNUngeZ7AFHEcY7VaSeUeE1EzXRRFskfW6/XXReOKEEUaQrXbbWRZJkYepP5tfDfYXSurZe4kSQrVbDaRpinCMJSGSZJsTNVPYi2KQjTZ1vvQy7Oq1WqJYDNel3o7TW2uP1Lv7QNJmGwSUtTNCK/NNHmeS92nXqevfk/O+c6fYGWKSRvd7GMAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"order9\",\n            \"title\": \"order9\",\n            \"src\": \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/3cbba/order9.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/7fc1e/order9.png 288w\", \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/a5df1/order9.png 576w\", \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/3cbba/order9.png 1152w\", \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/0b124/order9.png 1728w\", \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/4ea69/order9.png 2304w\", \"/vaccine-solution-main/static/7536e7dbf979fb1e7455753b2ceb5eeb/1f455/order9.png 2562w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`If you now go into your `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{` you should see one event in it containing the new order we created back when we deployed the Vaccine Order Manager for Postgres microservice:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"59.375%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABs0lEQVQoz5WSS0/bQBSF/cuy7w6JJF6EZWHbXSUkqBxRgZBKK3XZv9G/goRAIFoEiZ+JJ55H/DzcO8bg0C7A0tG5Hs/9fOZqnMFggI+7exiPx1au62JMcp80Go0wHA7foG3sTCZwjk9OkUkD3/ch0hRJEmO5XJIniOMExqzxnsf5dvYDaGoopRAnAvMgplojEwurumRghaZpbAP7a5migc4b5GUD5/P+gU0zm83aVOkaoagRLEvcRwXuwhx+skZZlqiqCnVd/wOk37Si2jn84tHRYgL6KIzAz98pto4XmHxfwD0N8MHz8ekXjUFIOr4m4EvS7mnBrTtfj47sohACWivcPUS4up3h5q+P88s/uLi+x0MgkGUSq9WK9mi7nxOnNHP2/igcz/OegVJmSDMFITXyqrG+Iq3Lmr4pC+sn4+NvpiTgdDrtASVS8jhZWIDShlwTyFDCDFEUWedknJZ72Ptz3QDyZoYqJW3dSdFau65sEwP62rg2rxN2EPkEsUACcR0EgRXfWdZ8PkcYhs/vRVH8P2FfHZDnx1eLG/lWdGCueRSsNwPZjTFWeZ7bxk7dOzvrEX35Z5OulFRZAAAAAElFTkSuQmCC')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"order10\",\n            \"title\": \"order10\",\n            \"src\": \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/3cbba/order10.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/7fc1e/order10.png 288w\", \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/a5df1/order10.png 576w\", \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/3cbba/order10.png 1152w\", \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/0b124/order10.png 1728w\", \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/4ea69/order10.png 2304w\", \"/vaccine-solution-main/static/dd4299893b9873b433bb39258d7807fd/2dd9a/order10.png 2558w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`That new order we created got stored in the `}<inlineCode parentName=\"p\">{`public.vaccineorderentity`}</inlineCode>{` table of the `}<inlineCode parentName=\"p\">{`orderdb`}</inlineCode>{` database of our Postgres deployment. Thanks to the Quarkus Outbox Extension, that new record got copied over to the `}<inlineCode parentName=\"p\">{`public.orderevents`}</inlineCode>{` table of the same database in the form and shape that the Debezium CDC for Postgres connector understands and expects it to be so that it is able to then send such record as an event into the desired Kafka topic. And that is what just happened here with the new event we are seeing in the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{`. By the way, that event complies with the schemas defined for the key and value of the event that are stored in the IBM Event Streams Schema Registry:`}</p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"1152px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"52.77777777777778%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABJElEQVQoz52SS06FMBiFuzBImBI24A7cjlNX4Cac6NTEscnV6wDCI5Hw7gNoj/1LiHoj3KskX1r6tz/nHMqiKEIYhvB9H0EQuNHzvH9B59nr4YAsy5DnOZIkQdu2kFJCCHExAxfgfBkZNaMGXdehrmuM4whjzMXMs4EcDdS0jLZhaguAUsoWZ9eQ5gR9aAth0ZNC+iFwfStxdSNx9ziAHY9viK3VOI6d9TRNHRTBOYoit2dzPDznuH/K8PJeglGB1JRliaqqHJxzaK3P2tXaWiN7WNCz+sqQ8qMfQlmu0PvK9/VTmpb2LnNG9ii3YRicMqLv+01o3946K4oC0zQ5q03TODV0FYyz8reHhP2wTA3XpiR/T+mq6lSxs0yK9vLb4recPwHNXyNTSvQEdgAAAABJRU5ErkJggg==')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"order11\",\n            \"title\": \"order11\",\n            \"src\": \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/3cbba/order11.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/7fc1e/order11.png 288w\", \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/a5df1/order11.png 576w\", \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/3cbba/order11.png 1152w\", \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/0b124/order11.png 1728w\", \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/4ea69/order11.png 2304w\", \"/vaccine-solution-main/static/fb973aab227f47e123da373449a11812/3c788/order11.png 2504w\"],\n            \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n        <p parentName=\"li\">{`You could also see in the IBM Event Streams User Interface that the payload of the the event we have in the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{` Kafka topic isn’t fully readable because it has been Avro-serialized.`}</p>\n      </li>\n    </ol>\n    <h4>{`Deploy the Vaccine Order Optimizer microservice`}</h4>\n    <p>{`Finally, the last piece of this use case to have the entire end to end flow is to deploy the Vaccine Order Optimizer microservice. This microservice will be responsible for producing an optimized shipment plan for the new orders received from the users as events in the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{` Kafka topic taking into account the transportation, inventory and Reefer containers information available at that point.`}</p>\n    <p>{`In order to get the Vaccine Order Optimizer microservice deployed, go into the `}<inlineCode parentName=\"p\">{`kubernetes`}</inlineCode>{` folder of its GitHub repository you pulled down at the beginning of this tutorial. You should see in there a bunch of yaml files which we will work with in order to get the Vaccine Order Optimizer microservice deployed on your OpenShift project along with a Kubernetes service and an OpenShift route to make it accessible.`}</p>\n    <p>{`If we look at the `}<inlineCode parentName=\"p\">{`deployment.yaml`}</inlineCode>{` file, which is the yaml file that will eventually deploy the Vaccine Order Optimizer microservice, we’ll find that we need two configmaps (`}<inlineCode parentName=\"p\">{`kafka-topics-cm`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`vaccine-oro-cm`}</inlineCode>{`) and two secrets (`}<inlineCode parentName=\"p\">{`vaccine-oro-secret`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`scram-user`}</inlineCode>{`) present in our OpenShift project beforehand to load the configuration for the Vaccine Order Optimizer microservice from.`}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`kafka-topics-cm`}</inlineCode>{` is the configmap that holds the information about the Kafka topic names and it is `}<strong parentName=\"p\">{`already`}</strong>{` present in the OpenShift project where we are going to deploy the Vaccine Order Optimizer microservice.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`vaccine-oro-cm`}</inlineCode>{` is the configmap defined in the `}<inlineCode parentName=\"p\">{`configmap.yaml`}</inlineCode>{` file. In order to create it, execute the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f configmap.yaml\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`vaccine-oro-secret`}</inlineCode>{` this secret is defined in the `}<inlineCode parentName=\"p\">{`secret.yaml`}</inlineCode>{` file and will hold two variables:`}</p>\n        <ol parentName=\"li\">\n          <li parentName=\"ol\">{`The IBM Event Streams Schema Registry url in the same form we already provided in the `}<inlineCode parentName=\"li\">{`connector.properties`}</inlineCode>{` file when we deployed the Kafka Connect cluster. That is, `}<inlineCode parentName=\"li\">{`https://<SCRAM_USERNAME>:<SCRAM_PASSWORD>@<SCHEMA_REGISTRY_URL>`}</inlineCode>{`. For more details about how to find out these values, review the previous sections where how to deploy the Kafka Connect cluster was explained.`}</li>\n          <li parentName=\"ol\">{`The `}<inlineCode parentName=\"li\">{`KAFKA_BROKERS`}</inlineCode>{` which should take the value of the Kafka bootstrap address of, this time, the external Kafka listener. The Vaccine Order Optimization microservice will communicate with IBM Event Streams through the external Kafka listener. Hence, the need to provide the scram user credentials below. You can find the Kafka bootstrap address for the IBM Event Streams external Kafka listener in the `}<inlineCode parentName=\"li\">{`Connect to this cluster`}</inlineCode>{` option in the IBM Event Streams User Interface (for more info, read the instructions `}<a parentName=\"li\" {...{\n              \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/overview/pre-requisites#get-kafka-bootstrap-url\"\n            }}>{`here`}</a>{`):\n`}<span parentName=\"li\" {...{\n              \"className\": \"gatsby-resp-image-wrapper\",\n              \"style\": {\n                \"position\": \"relative\",\n                \"display\": \"block\",\n                \"marginLeft\": \"auto\",\n                \"marginRight\": \"auto\",\n                \"maxWidth\": \"1152px\"\n              }\n            }}>{`\n      `}<span parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-background-image\",\n                \"style\": {\n                  \"paddingBottom\": \"96.52777777777779%\",\n                  \"position\": \"relative\",\n                  \"bottom\": \"0\",\n                  \"left\": \"0\",\n                  \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAAAsTAAALEwEAmpwYAAADHElEQVQ4y41UTU8aURTl30BCgpsuuuzOr4X/xaiJ8SOIH6A2AUGkXXXZhU3a2EQTTKyYri2aaK1ttUaQGUBmhvkAZoDTe187U4i2KcnJe2/InHfuueeOzx8IYnBwEKOjoxgeHsbIyAjGxsbEfmhoSKzj4+OYmJgQmJqawuTkpHdm8Hl6elrA9+TpMywuRhBeWMDS0hKWl5cRiUTEykin0+j9tdtt/OvnGxgIYX5+3rtpdnYWMzMzmJubE9ja2sLBwQHW19eRyWQgSRIajQaazSZM0xR7vqTT6Qj4QqEQwuEwqVzEAqlkVSsrKwJ8TqVSODs7w+7uLrLZLGq1Gur1usD9/b1Yu92uUMerR8gETMZl95aeSCTES45tC6iKAsuyPLDSPsJgMOgRukQuWOFGMok7Sca362sUqdxCqQRF1aBoGtTfSkXJRCYI/X6/V6qrziXm54l4HOrlZ1RP83B+fIdTkWAbOrqWgW7DfNiUQCAgXoxGo30Qiok0lYijdnqMu/wnyPljVGivfr2ASeS181O8SiaQzrxAnC7O5XJ/CFmV6yMT8pk95KY0NRUdk3zUNThGHSB1sEy0aV+RSpBkGSWygssXJfOLsVjM844J+czPNzc3hV818q3d6cKhaNjkmd2mmDyWQ9dDVsfRYcLV1VWhkHPIpZTLMm5vbyGTEu5sg2DoOqrVKgzDgOM4sDkFtHolM6GrjAndrvOkFItFXF1doVAowCQCi8pVVRU3NzfiP432BjXKNI1fhBwbtzFra2sCXK6IzcYGFEUVUakpGkyLp6QFg6aEJ0XXDfJOh0bQDbPfQ1bFZKyQz2wBE7KqVsvG649tJPc6iL7r4OjcJscs7OebiL1t4flOEy+z9kMPuUw3OqycCXnE2K+SXKVgV1Cuami2HLTJs7/msHdS3By6JTMhx0KmiMiyBKl0B01jG1QcHn7A0VEO+/tZXH65eJywd5aZUKPYKDTDVSLu7apOnd7b28POzntsb7/BycnJ44R9s0yEHBeODaNSqYgAc0P4w/BfJffOMhNyRJjIRblcFp7yp8xd+RK+4CfoR51Cqau+gAAAAABJRU5ErkJggg==')\",\n                  \"backgroundSize\": \"cover\",\n                  \"display\": \"block\"\n                }\n              }}></span>{`\n  `}<img parentName=\"span\" {...{\n                \"className\": \"gatsby-resp-image-image\",\n                \"alt\": \"order12\",\n                \"title\": \"order12\",\n                \"src\": \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/3cbba/order12.png\",\n                \"srcSet\": [\"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/7fc1e/order12.png 288w\", \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/a5df1/order12.png 576w\", \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/3cbba/order12.png 1152w\", \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/0b124/order12.png 1728w\", \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/4ea69/order12.png 2304w\", \"/vaccine-solution-main/static/2b2baa7f8930c44c9bd89c63f7fe4151/f53db/order12.png 2510w\"],\n                \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n                \"style\": {\n                  \"width\": \"100%\",\n                  \"height\": \"100%\",\n                  \"margin\": \"0\",\n                  \"verticalAlign\": \"middle\",\n                  \"position\": \"absolute\",\n                  \"top\": \"0\",\n                  \"left\": \"0\"\n                },\n                \"loading\": \"lazy\"\n              }}></img>{`\n    `}</span></li>\n        </ol>\n        <p parentName=\"li\">{`Once you have properly configued the two variables above, you can create the secret by executing:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f secret.yaml\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><inlineCode parentName=\"p\">{`scram-user`}</inlineCode>{` is the secret that will hold the Kafka User scram credentials for authentication and authorization of the communications going through the IBM Event Streams external Kafka listener. You should already have these (username and password) as these were provided to the Kafka Connect deployment in the previous section as well as in the secret you create just above this one. However, we need to store these in a secret. For doing so, execute the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc create secret generic scram-user --from-literal=username=<SCRAM_USERNAME> --from-literal=password=<SCRAM_PASSWORD>\n`}</code></pre>\n        <p parentName=\"li\">{`where you would replace `}<inlineCode parentName=\"p\">{`<SCRAM_USERNAME>`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`<SCRAM_PASSWORD>`}</inlineCode>{` with the values of your Kafka User scram credentials.`}</p>\n      </li>\n    </ol>\n    <p>{`Once you have the above configmaps and secrets created in your OpenShift project with the appropriate configuration for your environment, there is yet one configuration-like step more to be done before kicking off the deployment of the Vaccine Order Optimization microservice. And it is to create the Inventory, Transportation and Reefer Kafka topics in your IBM Event Streams instance that the Vaccine Order Optimization microservice will we listening to for new events to consume from. The actual name of those Kafka topics `}<strong parentName=\"p\">{`must`}</strong>{` match what you specified in the `}<inlineCode parentName=\"p\">{`kafka-topics-cm`}</inlineCode>{` configmap earlier in this tutorial. If you don’t remember well, you can always execute `}<inlineCode parentName=\"p\">{`oc describe configmap kafka-topics-cm`}</inlineCode>{` to see such values. These should anyway be `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.inventory`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.transportation`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.reefer`}</inlineCode>{` respectively. If you don’t know how to create new Kafka topics in IBM Event Streams, follow the instructions `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/overview/pre-requisites#create-event-streams-topics\"\n      }}>{`here`}</a>{`.`}</p>\n    <p>{`Ok, we can now, finally, deploy the Vaccine Order Optimization microservice. To do so, execute the following command:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f deployment.yaml\n`}</code></pre>\n    <p>{`If you list the pods in your OpenShift project using the command `}<inlineCode parentName=\"p\">{`oc get pods`}</inlineCode>{` you should a new pod called `}<inlineCode parentName=\"p\">{`vaccine-order-optimizer-xxxxxxxxx-xxxxx`}</inlineCode>{`. After a minute or so, you should see that the `}<inlineCode parentName=\"p\">{`STATUS`}</inlineCode>{` for that pod is `}<inlineCode parentName=\"p\">{`Running`}</inlineCode>{`. At that point, if you get the logs for the pod with the command `}<inlineCode parentName=\"p\">{`oc get logs -f vaccine-order-optimizer-xxxxxxxxx-xxxxx`}</inlineCode>{` you should see that the Order Consumer of the Vaccine Order Optimizer microservice has consumed the event the Debezium CDC for Postgres connector sent to the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{` Kafka topic. You should see an output similar to:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`[OrderConsumer][KafkaAvroCDCConsumer] - New event received\n    Topic: demo.vaccine.public.orderevents\n    Partition: 0\n    Offset: 0\n    key: {'id': 'a6fd9d05-aad0-48b5-896c-03c4f0fcabca'}\n    value: {'before': None, 'after': {'id': 'a6fd9d05-aad0-48b5-896c-03c4f0fcabca', 'aggregatetype': 'VaccineOrderEntity', 'aggregateid': '15', 'type': 'OrderCreated', 'timestamp': 1616514616432121, 'payload': '{\"orderID\":15,\"deliveryLocation\":\"Some place\",\"quantity\":150,\"priority\":2,\"deliveryDate\":\"2021-03-23\",\"askingOrganization\":\"Some organization\",\"vaccineType\":\"COVID-19\",\"status\":\"OPEN\",\"creationDate\":\"23-Mar-2021 15:50:16\"}', 'tracingspancontext': '#Tue Mar 23 15:50:16 GMT 2021\\\\nuber-trace-id=e1b6f1a45e8baa2f\\\\\\\\:e94b901fba282c6c\\\\\\\\:e1b6f1a45e8baa2f\\\\\\\\:0\\\\n'}, 'source': {'version': '1.2.0.Final', 'connector': 'postgresql', 'name': 'demo.vaccine', 'ts_ms': 1616601067665, 'snapshot': 'last', 'db': 'orderdb', 'schema': 'public', 'table': 'orderevents', 'txId': 582, 'lsn': 24712096, 'xmin': None}, 'op': 'r', 'ts_ms': 1616601067668, 'transaction': None}\n\n[OrderConsumer] - New Order: {\"orderID\": 15, \"deliveryLocation\": \"Some place\", \"quantity\": 150, \"priority\": 2, \"deliveryDate\": \"2021-03-23\", \"askingOrganization\": \"Some organization\", \"vaccineType\": \"COVID-19\", \"status\": \"OPEN\", \"creationDate\": \"23-Mar-2021 15:50:16\"}\n`}</code></pre>\n    <p>{`which, of course, should correspond with the new order you created at the beginning of this tutorial when you deployed the Vaccine Order Manager for Postgres microservice. Also notice that we are able to perfectly read the event as it has been Avro-deserialized by using the corresponding schema for the `}<inlineCode parentName=\"p\">{`<UNIQUE_ID>.vaccine.public.orderevents`}</inlineCode>{` Kafka topic that is stored in the IBM Event Streams Schema Registry.`}</p>\n    <p>{`Last step is to make this application accessible by creating a Kubernetes service and an OpenShift route for it. To do so, execute the following commands:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc apply -f service.yaml\noc apply -f route.yaml\n`}</code></pre>\n    <p>{`To access the application, point your browser to the route you have just created that you can check by executing `}<inlineCode parentName=\"p\">{`oc get routes | grep optimizer`}</inlineCode>{`.`}</p>\n    <span {...{\n      \"className\": \"gatsby-resp-image-wrapper\",\n      \"style\": {\n        \"position\": \"relative\",\n        \"display\": \"block\",\n        \"marginLeft\": \"auto\",\n        \"marginRight\": \"auto\",\n        \"maxWidth\": \"1152px\"\n      }\n    }}>{`\n      `}<span parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-background-image\",\n        \"style\": {\n          \"paddingBottom\": \"97.22222222222223%\",\n          \"position\": \"relative\",\n          \"bottom\": \"0\",\n          \"left\": \"0\",\n          \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABYlAAAWJQFJUiTwAAACgklEQVQ4y5WUS2/UMBDH8ymp6Ike4ITEQ9y58Cm4IIGQOEEp9LUUJB4CcUSilG53N2l24yRONi+vncc+/oy92/IS2yXSTzOx7L/HM/ZY1+6s48bt69i4soG1tUtYX7+Mh48f4MXOc+wf7OLVm320Xu8Zq9Fju61tw07rJVoHe3iy+Qh379/ErXtXYYlCIUkyZFmBJM0hRhKMheA8hu+H8LwAUTSExwIw+mc+h5QlMJthOp0aZuSffZbdD3B4bMN2+oSL/oCh23NIdC7geT6CkJOgb8iyHFVVoa7r39BjGivOS/QjiUEkMJKKdieUQtM0tPN0EcXkPJrxePyX2K9Y+riFEEbgbJFmMpmYxeMxWePP0ePLIMEEwzhGWf7My8zk5U9mK2ExnqBzGqCqG6iqRrlALTj3y2oJNaWpIkpYn5wGO0cVuoMYbTdC+5SjMxii6yXEEE6QgSUlwrxeSkBEBeXw40LQZkMjZMQI20+JDIN4RIIKvPi3GF/YWGhBe4rtbxOzuONpUnRZDjso0PNzuJFCP1bws+ZCeN7AescG2LQ76AUBTnwfHQ35vTCEE0dwk6HBF8WF8JGA9TY6xFPvM9rMxdHAwZHn4Ds7Rdt30eUenIQu+ChZgSFCmcJ67xbYOk7oiDFFF1FklL8wMdbLKH+5hK+hJ3oRXCiKMOjhmXsIm1N1w8Acs8tDnCYx7VqAiXwlPCKk+dYHe4ytr/X8uvTnVfbTiqrWLKrYrIy5Nie8xhePSp8K8EySlUhEhVQ2SEf1f5FLEhR5Ck2jOwY9v6oq6Rmq1VFzlJRQSpKgGFFbYtQTU+qHc9IVmc/VvZSgoCSJWsta0SpokTwXFFAFISR+APHyk8908RpiAAAAAElFTkSuQmCC')\",\n          \"backgroundSize\": \"cover\",\n          \"display\": \"block\"\n        }\n      }}></span>{`\n  `}<img parentName=\"span\" {...{\n        \"className\": \"gatsby-resp-image-image\",\n        \"alt\": \"order13\",\n        \"title\": \"order13\",\n        \"src\": \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/3cbba/order13.png\",\n        \"srcSet\": [\"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/7fc1e/order13.png 288w\", \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/a5df1/order13.png 576w\", \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/3cbba/order13.png 1152w\", \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/0b124/order13.png 1728w\", \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/4ea69/order13.png 2304w\", \"/vaccine-solution-main/static/a927adf3b2ad8a81301f92f54e73d5cd/39dee/order13.png 2532w\"],\n        \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n        \"style\": {\n          \"width\": \"100%\",\n          \"height\": \"100%\",\n          \"margin\": \"0\",\n          \"verticalAlign\": \"middle\",\n          \"position\": \"absolute\",\n          \"top\": \"0\",\n          \"left\": \"0\"\n        },\n        \"loading\": \"lazy\"\n      }}></img>{`\n    `}</span>\n    <h4>{`Deploy Kafka Strimzi and Postgresql`}</h4>\n    <p>{`If you want to get a deep understanding of how the configuration is done see the different `}<inlineCode parentName=\"p\">{`Kustomization.yaml`}</inlineCode>{` files in the `}<inlineCode parentName=\"p\">{`vaccine-gitops`}</inlineCode>{` repository, and see the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-gitops\"\n      }}>{`readme file`}</a>{` to deploy a three broker cluster, with Kafka user using TLS authentication, and the Kafka topics needed by the solution. `}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# login to the OpenShift cluster\noc login ....\n# then deploy the solution\n./scripts/order-mgr-ocp.sh --skip-login\n`}</code></pre>\n    <h4>{`Deploy on OpenShift with Event Streams as Kafka`}</h4>\n    <p>{`See `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/use-cases/eventstreams\"\n      }}>{`this note`}</a>{` for this type of deployment and the following scripts can be done to automate the steps described in the note:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# login to the OpenShift cluster\noc login ....\n# then deploy the solution\n./scripts/order-mgr-es-ocp.sh --skip-login\n`}</code></pre>\n    <h2>{`Scenario script`}</h2>\n    <p>{`Once the solution is up and running in your target deployment environment (local or OpenShift) execute the following steps to present an end to end demonstration.`}</p>\n    <h3>{`Validate existing vaccine lot shipment plan`}</h3>\n    <p>{`TBD `}</p>\n    <h3>{`Create an order from the user interface of the Order Service.`}</h3>\n    <p>{`Connect to the order microservice URL, for example it could look like `}<a parentName=\"p\" {...{\n        \"href\": \"http://vaccineorderms-vaccine.clusternametochangewithyours.containers.appdomain.cloud.\"\n      }}>{`http://vaccineorderms-vaccine.clusternametochangewithyours.containers.appdomain.cloud.`}</a>{` You should reach the home page. Then select Orders tab. `}</p>\n    <p>{`If there is no order created click on `}<inlineCode parentName=\"p\">{`NEW ORDER`}</inlineCode>{` button `}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"49.65277777777777%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABaElEQVQoz42QS0/CUBCF+6cMUdYm/ghfK127decewoIEkN6+2xT+DEtc8XDjghCppiXQAseZKWANgdjk69x7Zu65p9VKt1WU7365IM5JO7uuHKV0U91SQfm+iqvHGi4fanJWa7YtNNvmlnxdb+oFjdBzvUG8KgtPLw08PtdpzkCLei3dlMozmu+52OPn1TQUPNcRbNsiTNFdxxaNTdmc14HvoeihOY6DHBeO60rVdQXTsmARyjBgEC71bNvOId2hi/gc666cy3203YYH2cA0TTLUxYRrjpK9UkrY6azxPLMzl4S+76PX66Hf72M0Gu0Zj8fCOzEYDDAcDv/0i4RhKKE0fgVBgNlshizL8J9nvV4faN1uV75QDDnhdDrFarVCmqZizOvlconFYom3jwQpaVlGGvWTJJGZIgeGURTJTZvN5mQ67vOlRxPyP/Q8D5PJhNIsEMexJDjFfD6XGhOfXzGi7xhhpyOGP+O+fQ6RWgP2AAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"3\",\n          \"title\": \"3\",\n          \"src\": \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/3cbba/order-ui.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/7fc1e/order-ui.png 288w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/a5df1/order-ui.png 576w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/3cbba/order-ui.png 1152w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/433df/order-ui.png 1356w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`and fill the following data:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`organization: Japan Government\ndelivery location: Tokyo\ndelivery date: 2021-01-24\nquantity: 150\npriority: 2\nvaccine type: covid-19\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify the data in postgresql: `}</li>\n    </ul>\n    <p>{`Once submitted the data are saved into the postgres DB, with the outbox pattern having created new records in the corresponding `}<inlineCode parentName=\"p\">{`OrderEvents`}</inlineCode>{` tables.\nWe can verify the tables content using different tools, like `}<inlineCode parentName=\"p\">{`psql`}</inlineCode>{` directly in the pod, or using `}<inlineCode parentName=\"p\">{`pgadmin4`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get pods | grep postgres\noc rsh <postgres pod id>\n# in the shell session within the pod do:\npsql -U postgres\n# in the psql shell, list the table\n\\\\d \n# Look at the content of the main table:\nselect * from public.vaccineorderentity;\n# You should get one new record matching your data\n# Verify outbox pattern works:\nselect * from public.orderevents;\n\nid    |   aggregatetype    | aggregateid | type         | timestamp |payload \nc80.. | VaccineOrderEntity | 1           | OrderCreated | 2021-01-24 03:44:08.131634 | {\"orderID\":1,\"deliveryLocation\":\"Tokyo\",\"quantity\":150,\"priority\":2,\"deliveryDate\":\"2021-01-24\",\"askingOrganization\":\"Japan Government\",\"vaccineType\":\"COVID-19\",\"status\":\"OPEN\",\"creationDate\":\"24-Jan-2021 03:44:08\"} | \n`}</code></pre>\n    <p>{`The outbox table of the order events has metadata attributes and then a payload matches the saved record in the orign table.`}</p>\n    <h3>{`Verify the message in the Kafka topic: `}<inlineCode parentName=\"h3\">{`vaccine.public.orderevents`}</inlineCode></h3>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"38.888888888888886%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsTAAALEwEAmpwYAAABMElEQVQoz21QW07DMBDMjRESfHAJ/ouEegROw08lVBXSQlLXSZz4/Ri8LqlowNJ4X/bs7FaMMXw1DQ6HT7RtA35iSDEASAvkO6U/oJrzCcYlxJhQCTGg7wUYHyF1xKQsJmkyHDphMUwOPoR/yWYQUYhnv6rrGpzzTNrh8aXH3fMJD2uG2yeGmxXH/VqgbiW8Mz+KcLFLn04lpcQ0TQW7+ojtB8Pb+xGvmz022wa7fZfVKiglYa29fFRKFSxXUQjHcSwA4twXMVh4q0uOPlI95NHDr/FjjFieK0LnPWJ+6JwrsRACNvv0hvNTXktf1lPyWa0xpkBrA5VBDS6ENDL59NBnYq11iUkR+fRxVkWgvPdnxS5bbcP1yERInSmmEYlktpTruq7UCaR0GIZiZ39eyTceNGoIFZ8+zQAAAABJRU5ErkJggg==')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"5\",\n          \"title\": \"5\",\n          \"src\": \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/3cbba/outbox-topic.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/7fc1e/outbox-topic.png 288w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/a5df1/outbox-topic.png 576w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/3cbba/outbox-topic.png 1152w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/b0b66/outbox-topic.png 1586w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\"before\":null,\"after\":\n{\"id\":\"c8050bb4-05d8-4270-833c-083995f27848\",\n \"aggregatetype\":\"VaccineOrderEntity\",\n \"aggregateid\":\"1\",\n \"type\":\"OrderCreated\",\n \"timestamp\":1611459848131634,\n \"payload\":\"{\\\\\"orderID\\\\\":1,\\\\\"deliveryLocation\\\\\":\\\\\"Paris\\\\\",\\\\\"quantity\\\\\":150,\\\\\"priority\\\\\":2,\\\\\"deliveryDate\\\\\":\\\\\"2021-01-24\\\\\",\\\\\"askingOrganization\\\\\":\\\\\"French Government\\\\\",\\\\\"vaccineType\\\\\":\\\\\"COVID-19\\\\\",\\\\\"status\\\\\":\\\\\"OPEN\\\\\",\\\\\"creationDate\\\\\":\\\\\"24-Jan-2021 03:44:08\\\\\"}\",\n\"tracingspancontext\":\"#Sun Jan 24 03:44:08 GMT 2021\\\\n\"},\n\"source\":{\"version\":\"1.4.0.Final\",\n\"connector\":\"postgresql\",\"name\":\"vaccine\",\n\"ts_ms\":1611712125168,\"snapshot\":\"last\",\n\"db\":\"postgres\",\"schema\":\"public\",\"table\":\"orderevents\",\n\"txId\":1371,\"lsn\":41341808,\"xmin\":null},\"op\":\"r\",\"ts_ms\":1611712125173,\"transaction\":null}\n`}</code></pre>\n    <h3>{`REST APIs`}</h3>\n    <p>{`The REST end points this service expose are in the OpenApi doc below, but not all operations are fully implemented yet.`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"82.29166666666666%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACAUlEQVQ4y6WUS2/TQBRG/efZsUJsEAvEgiJQu2DFDqmUqg1N0tZ12qakaePYjh/xu37M2OlhElQJUIXksjiLub5z/F2NZrSiKDjsDRkcn9EfnKIbF3z91mMw1Ol9H3LQG7C7d8iJPuKof0Lv6ATjYsyV95ms9GjkCiEEUsoNWl0LplaA6wUslyFRFOP5AWEYbVjXZ6ZFoL6FYcw6QNM0G9Fa8LtsIywqJfRr7EgQZFIhCHPJUhHfSe7vV8A9q1VL27ZK9kvywN9SrVaLtGyoRIuQfzY/sJ7isfpjaFIKosAlcBdUVUmrEjSq9lS0Uo18MLLY0028KCcvarL/QEsKyccz2NLhdJZgTBfMoxorfhpaXOVs2bu8tb6gezeMnTlWEWHdRczzZWe0tKzY/mHz4crGsDzGps21G2CGCW5essgK3A5oqRp5+xTeH8OlXTB1EiZ2gumrhrRhkchOKKHg06hm50xwaaVM5oEShoxnPsa1w8WNy+Wtp5prvFSon/ybTcJ36lDeqJTndrlJN1lkzMMaJ22xk6YT2p26SsfGiIFuMLMcTMtWOPjq2sVpRpSkndCkOlGGz6H/jOy2jz8dEc1GlN6EJrxBLqed0EQUUb56Tf3iJcn+Ps75Ob5hkF1PEHOT2px1QhNliZiozVdjKvXKFHFCoV6cKk2RWY7Isk78BH+ZtXlLYFUfAAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"4\",\n          \"title\": \"4\",\n          \"src\": \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/3cbba/openapi.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/7fc1e/openapi.png 288w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/a5df1/openapi.png 576w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/3cbba/openapi.png 1152w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/7dc98/openapi.png 1200w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <h3>{`See how the shipment plan is modified`}</h3>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}