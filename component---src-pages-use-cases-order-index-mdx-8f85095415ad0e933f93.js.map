{"version":3,"sources":["webpack:///./src/pages/use-cases/order/index.mdx"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"mappings":"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","file":"component---src-pages-use-cases-order-index-mdx-8f85095415ad0e933f93.js","sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/runner/work/vaccine-solution-main/vaccine-solution-main/docs/node_modules/gatsby-theme-carbon/src/templates/Default.js\";\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <p>{`The vaccine order fullfilment is a complex problem to address as we need to optimize the shipment plan according to the demand and the contraints. A deep dive to the O/R problem is described in `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/voro-solution/\"\n      }}>{`this note`}</a>{`. In this scenario we want to demostrate the order entry with an event-driven microservice, and the integration with an event driven linear programming stateful function. The scenario addresses the following features:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`Create Order(s) using a simple user interface as an order manager will do after interacting with the country health care request.`}</li>\n      <li parentName=\"ul\">{`Validate the `}<a parentName=\"li\" {...{\n          \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/patterns/intro/#transactional-outbox\"\n        }}>{`transactional outbox pattern`}</a>{` works to get OrderCreated, OrderUpdated or OrderCancelled Events created into a dedicated table in Postgresql`}</li>\n      <li parentName=\"ul\">{`Validate how `}<a parentName=\"li\" {...{\n          \"href\": \"https://debezium.io/documentation/reference/1.4/connectors/postgresql.html\"\n        }}>{`Debezium Change Data Capture`}</a>{` for Postgresql as a Kafka connector, produces OrderEvents from the table to Kafka `}<inlineCode parentName=\"li\">{`orders`}</inlineCode>{` topic.`}</li>\n      <li parentName=\"ul\">{`Integrate with the `}<a parentName=\"li\" {...{\n          \"href\": \"\"\n        }}>{`Shipment plan optimization`}</a>{` to get the updated shipment plan as events.`}</li>\n    </ul>\n    <h2>{`Components involved in this use case`}</h2>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\"\n          }}>{`Vaccine Order Service`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Postgres DB`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Debezium for change data capture on the outbox table`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Kafka using Strimzi or `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm.github.io/event-streams/\"\n          }}>{`event streams`}</a></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-optimizer\"\n          }}>{`Vaccine Order Reefer Optimization Service`}</a></p>\n        <span parentName=\"li\" {...{\n          \"className\": \"gatsby-resp-image-wrapper\",\n          \"style\": {\n            \"position\": \"relative\",\n            \"display\": \"block\",\n            \"marginLeft\": \"auto\",\n            \"marginRight\": \"auto\",\n            \"maxWidth\": \"777px\"\n          }\n        }}>{`\n      `}<span parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-background-image\",\n            \"style\": {\n              \"paddingBottom\": \"54.861111111111114%\",\n              \"position\": \"relative\",\n              \"bottom\": \"0\",\n              \"left\": \"0\",\n              \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACbElEQVQoz2VTS2vUUBTOzj+gO0Hc+wNcuBEENy5cunAngg9ciS6KoCJCEVQqFmlLKa4sVsq0dawbhVYdsdqpTKf0NbXOq5m088jkJrlJ7r35PPd2Kog3fMnNeXw59zsnlgoC+G0PrNndR8uD4iHSmP8DxBHSiEOSD0mE0GMYf/sNoxOfMDb5BaOv59F0WrBCl2FsZAnDgz8w8mIRo0OLcBwGlabgXBCPQKQRJwYsIEJatYaL4+f7cfLSIE5fG8ahU31YLGzBClwPM1NFTE8WkM0sY3amiE47oJQUSSKglIJIJLodz7xrpGTrdAPcePTG4NZABhfvvESlYsOCjChZUZCkSmJIemoIISAl2ekSUoKHCdkkEUr6Vgp7t4sTFx7jyNn7OHruIQ6fuYv1zSqspVUHma8NuJRwsDhpFUcRFBFqYlNlLAxxkiSmgI4X4PbAFPqez+De0DtcfvAK9ZoD6+qzPI5dmcfc8h6cvTYqdtvotF3fRWWnSdUKtLqMfK4hWtmqodzwaC/x36JmWdlcFU+zZRS3m7jeP4GbT6aw/ruO8Y/f8SG/ZuKmcwW8X1gxexZJAgmRUrVSmOZpSKpe0clIw7hHrxDygI4n4DTbyH7Oo1Aqww8Y5hZ+IrdEzXJdQ6RjE5EYrbXGhlT1CCWn2dLCk05+RKNBwnt0ZJf5qNsNrG5sktglVOs7YCHNH42OBuMxVdgj1PdUmTm1FPOQJtRdeuF+CE5kMSVyP4BNJI26jdJGCeurawhZgCjkiChGx+qclAZe6aHXP0Pgw0q9rtkcQPkazIDmyNjsX1toVis9/77vb/xBri6M7H8ACQ8nDVgeUpYAAAAASUVORK5CYII=')\",\n              \"backgroundSize\": \"cover\",\n              \"display\": \"block\"\n            }\n          }}></span>{`\n  `}<img parentName=\"span\" {...{\n            \"className\": \"gatsby-resp-image-image\",\n            \"alt\": \"vaccine order 1\",\n            \"title\": \"vaccine order 1\",\n            \"src\": \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png\",\n            \"srcSet\": [\"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/7fc1e/vaccine-order-1.png 288w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/a5df1/vaccine-order-1.png 576w\", \"/vaccine-solution-main/static/f687ca251b28950f8caa6b410572107d/c53c3/vaccine-order-1.png 777w\"],\n            \"sizes\": \"(max-width: 777px) 100vw, 777px\",\n            \"style\": {\n              \"width\": \"100%\",\n              \"height\": \"100%\",\n              \"margin\": \"0\",\n              \"verticalAlign\": \"middle\",\n              \"position\": \"absolute\",\n              \"top\": \"0\",\n              \"left\": \"0\"\n            },\n            \"loading\": \"lazy\"\n          }}></img>{`\n    `}</span>\n      </li>\n    </ul>\n    <p><em parentName=\"p\">{`The blockchain integration is not done yet`}</em></p>\n    <p>{`To have a deeper understanding of the order service read `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/#overview\"\n      }}>{`this overview section`}</a>{`. For the Vaccine order reefer optimization service `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/design/voro/\"\n      }}>{`the design article`}</a>{` details the optimization approach, while the `}<a parentName=\"p\" {...{\n        \"href\": \"/vaccine-solution-main/solution/orderms/voro-solution/#overview\"\n      }}>{`solution article`}</a>{` goes over the service implementation details.`}</p>\n    <h2>{`Deploy to OpenShift`}</h2>\n    <h3>{`Pre-requisites`}</h3>\n    <ul>\n      <li parentName=\"ul\">{`You need:`}<ul parentName=\"li\">\n          <li parentName=\"ul\">{`docker and docker compose on your laptop to run locally or build image`}</li>\n          <li parentName=\"ul\">{`Java 11`}</li>\n          <li parentName=\"ul\">{`git client `}</li>\n          <li parentName=\"ul\">{`Get access to an OpenShift cluster with Cloud Pak for integration and event streams installed.`}</li>\n        </ul></li>\n    </ul>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://cloud.ibm.com/docs/openshift?topic=openshift-openshift-cli\"\n          }}>{`OpenShift CLI`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\"><a parentName=\"p\" {...{\n            \"href\": \"https://stedolan.github.io/jq/\"\n          }}>{`jq`}</a>{` on your local environment.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use a Terminal and the oc cli. If you want to access the code source you can clone the two main repositories of this solution:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`git clone https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg\ngit clone https://github.com/ibm-cloud-architecture/vaccine-order-optimization\ngit clone https://github.com/ibm-cloud-architecture/vaccine-gitops\n`}</code></pre>\n      </li>\n    </ol>\n    <h3>{`Deploy Kafka Strimzi and Postgresql`}</h3>\n    <p>{`In the vaccine-gitops see the `}<a parentName=\"p\" {...{\n        \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-gitops\"\n      }}>{`readme file`}</a>{` to deploy a 3 brokers cluster, with Kafka user using TLS authentication, and the Kafka topics needed by the solution.`}</p>\n    <h3>{`Deploy the Vaccine Order Service`}</h3>\n    <p>{`This microservice is built using maven and Quarkus extensions. In this current main project we have\nWe have already pushed the last version of this service on dockerhub, if you do not want to build it. `}</p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Ensure you are working inside the correct project via the following `}<inlineCode parentName=\"p\">{`oc`}</inlineCode>{` command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export PROJECT_NAME=vaccine-solution\noc project \\${PROJECT_NAME}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Export the value of your Event Streams cluster name into an environment variable:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export CLUSTER_NAME=eda-dev\nexport EVENTSTREAMS_NS=eventstreams\n`}</code></pre>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">{`To check what the name of your Event Streams cluster name is do:`}<pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`$ oc get eventstreams -n \\${EVENTSTREAMS_NS}\nNAME           STATUS\ndevelopment    Ready\n`}</code></pre></li>\n        </ul>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Deploy a postgres server. The orders are persisted in an external Postgres instance running on Openshift cluster. To do a simple deployment performs the following commands:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# Define environement variables\nSERVICE_ACCOUNT_NAME=postgres-sa\nDEPLOYMENT_NAME=postgres\nSERVICE_NAME=postgres\nDOCKER_IMAGE=docker.io/postgres:11.6-alpine\nPOSTGRES_PASSWORD=adifficultpasswordtoguess\n\noc create serviceaccount \\${SERVICE_ACCOUNT_NAME}\noc adm policy add-scc-to-user anyuid -n \\${PROJECT_NAME} -z \\${SERVICE_ACCOUNT_NAME}\noc create deployment \\${DEPLOYMENT_NAME} --image=\\${DOCKER_IMAGE}\noc set serviceaccount deployment/\\${DEPLOYMENT_NAME} \\${SERVICE_ACCOUNT_NAME}\noc patch deployment \\${DEPLOYMENT_NAME} --type=\"json\" -p='[{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args\", \"value\":[]},{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args/-\", \"value\":\"-c\"},{\"op\":\"add\", \"path\":\"/spec/template/spec/containers/0/args/-\", \"value\":\"wal_level=logical\"} ]'\noc set env deployment \\${DEPLOYMENT_NAME} POSTGRES_PASSWORD=\\${POSTGRES_PASSWORD}\noc expose deployment \\${DEPLOYMENT_NAME} --port 5432 --name \\${SERVICE_NAME}\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get Kafka TLS user name to access Event Streams bootstrap using the external route. export this user name in KAFKA_USER environment variable:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get kafkausers -n $EVENTSTREAMS_NS \n# NAME                                CLUSTER   AUTHENTICATION   AUTHORIZATION\n# app-scram                           eda-dev   scram-sha-512    simple\n# app-tls                             eda-dev   tls              simple\nexport KAFKA_USER=app-tls\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy Kafka TLS user certificate to target project:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret \\${KAFKA_USER} -n \\${EVENTSTREAMS_NS} -o json | jq -r '.metadata.namespace=\"'\\${PROJECT_NAME}'\"' | oc apply -f -\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Get Kafka bootstrap server URL within`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`export KAFKA_BROKERS=$(oc get route -n \\${EVENTSTREAMS_NS} \\${CLUSTER_NAME}-kafka-bootstrap -o jsonpath=\"{.status.ingress[0].host}:443\")\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Copy TLS server CA certificate from eventstreams project to local project with the command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc get secret \\${CLUSTER_NAME}-cluster-ca-cert -n \\${EVENTSTREAMS_NS} -o json | jq -r '.metadata.name=\"kafka-cluster-ca-cert\"' |jq -r '.metadata.namespace=\"'\\${PROJECT_NAME}'\"' | oc apply -f -\n`}</code></pre>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Define environment variables for the order service with config map and secrets:`}</p>\n      </li>\n    </ol>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`# config map\noc apply -f  https://raw.githubusercontent.com/ibm-cloud-architecture/vaccine-order-mgr-pg/main/src/main/kubernetes/configmap.yaml\n# Secrets\noc apply -f - <<EOF\napiVersion: v1\nkind: Secret\nmetadata:\n  name: vaccine-order-secrets\nstringData:\n  KAFKA_USER: \\${KAFKA_USER}\n  KAFKA_BOOTSTRAP_SERVERS: \\${KAFKA_USER}\n  QUARKUS_DATASOURCE_PASSWORD: \\${POSTGRES_PASSWORD}\n  QUARKUS_DATASOURCE_USERNAME: postgres\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy the app. If you have cloned the repository and have java you can use the following command:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`./mvnw clean package -Dui.deps -Dui.dev -Dquarkus.kubernetes.deploy=true -DskipTests\n`}</code></pre>\n        <p parentName=\"li\">{` If not, you can deploy the application using the deployment config as we have pushed the ibmcase/vaccineorders image to dockerhub:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`oc apply -f  https://raw.githubusercontent.com/ibm-cloud-architecture/vaccine-order-mgr-pg/main/src/main/kubernetes/deploymentconfig.yaml\n\n`}</code></pre>\n      </li>\n    </ul>\n    <h3>{`Deploy Debezium CDC connector`}</h3>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://ibm.github.io/event-streams/connecting/setting-up-connectors/\"\n      }}>{`Event Streams product documentation`}</a>{` goes over the tasks to be done to config Kafka Connect cluster, but we can summarize them for our use case as:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Start a Kafka connector cluster: We use the custom resource definition called `}<inlineCode parentName=\"p\">{`KafkaConnectS2I`}</inlineCode>{`, which one instance represents a Kafka connect cluster. Each connector is represented by another custom resource called `}<inlineCode parentName=\"p\">{`KafkaConnector`}</inlineCode>{`. Kafka connect needs a user access to the Brokers. We can use the TLS user as previously done (See also `}<a parentName=\"p\" {...{\n            \"href\": \"https://ibm-cloud-architecture.github.io/refarch-eda/use-cases/connect-cos/#set-up-the-kafka-connect-cluster\"\n          }}>{`this note`}</a>{` for the same type of setting). `}</p>\n        <ul parentName=\"li\">\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Event Streams UI has a Toolbox menu with the `}<inlineCode parentName=\"p\">{`Set up a Kafka Connect environment`}</inlineCode>{` where we can download the `}<inlineCode parentName=\"p\">{`KafkaConnectS2I`}</inlineCode>{` configuration. The matching configuration is `}<a parentName=\"p\" {...{\n                \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg/blob/main/environment/cdc/kafka-connect-s2i.yaml\"\n              }}>{`in this file`}</a>{` and uses predefined TLS user and cluster certificate. The cluster name is `}<inlineCode parentName=\"p\">{`connect-cluster`}</inlineCode>{`.`}</p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Update the following values in this file: `}<inlineCode parentName=\"p\">{`bootstrapServers`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`secretName: tls`}</inlineCode>{`  to `}<inlineCode parentName=\"p\">{`secretName: <yourTLSuser>`}</inlineCode>{` and the Server ca certificate secretName like `}<inlineCode parentName=\"p\">{`kafka-cluster-ca-cert`}</inlineCode>{`.`}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-yaml\"\n              }}>{`tls:\n trustedCertificates:\n   - certificate: ca.crt\n     secretName: kafka-cluster-ca-cert\n`}</code></pre>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Deploy the cluster with: `}<inlineCode parentName=\"p\">{`oc apply -f kafka-connect-s2i.yaml -n \\${EVENTSTREAMS_NS}`}</inlineCode></p>\n          </li>\n          <li parentName=\"ul\">\n            <p parentName=\"li\">{`Validate it via: `}</p>\n            <pre parentName=\"li\"><code parentName=\"pre\" {...{\n                \"className\": \"language-shell\"\n              }}>{`oc get kafkaconnects2i -n \\${EVENTSTREAMS_NS}\noc describe kafkaconnects2i connect-cluster -n \\${EVENTSTREAMS_NS}\n`}</code></pre>\n          </li>\n        </ul>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Download the postgres plugin archive from `}<a parentName=\"p\" {...{\n            \"href\": \"https://repo1.maven.org/maven2/io/debezium/debezium-connector-postgres/1.4.0.Final/debezium-connector-postgres-1.4.0.Final-plugin.tar.gz\"\n          }}>{`debezium maven repository`}</a>{` and then add the jar files to the `}<inlineCode parentName=\"p\">{`my-plugins\\\\debezium-connector`}</inlineCode>{` folder. We need a subfolder as this connector includes multiple jars. This step was already done and the debezium connector jars are in the `}<a parentName=\"p\" {...{\n            \"href\": \"https://github.com/ibm-cloud-architecture/vaccine-order-mgr-pg/tree/main/environment/cdc/my-plugins/debezium-connector\"\n          }}>{`environment/cdc/my-plugins/debezium-connector)`}</a></p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{}}>{`├── my-plugins\n│   └── debezium-connector\n│       ├── CHANGELOG.md\n│       ├── CONTRIBUTE.md\n│       ├── COPYRIGHT.txt\n│       ├── LICENSE-3rd-PARTIES.txt\n│       ├── LICENSE.txt\n│       ├── README.md\n│       ├── README_ZH.md\n│       ├── debezium-api-1.4.0.Final.jar\n│       ├── debezium-connector-postgres-1.4.0.Final.jar\n│       ├── debezium-core-1.4.0.Final.jar\n│       ├── failureaccess-1.0.1.jar\n│       ├── guava-30.0-jre.jar\n│       ├── postgresql-42.2.14.jar\n│       └── protobuf-java-3.8.0.jar\n└── pg-connector.yaml\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Deploy the connector configuration:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-shell\"\n          }}>{`# pwd = .../environment/cdc/\noc start-build connect-cluster-connect --from-dir ./my-plugins/ --follow -n \\${EVENTSTREAMS_NS}\n#...\n# Storing signatures\n# Successfully pushed image-registry.openshift-image-registry.svc:5000/eventstreams/connect-cluster-connect@sha256:9315b6a6c8f904d0fb5a57f67ba4c9067c6c8264814f283151b20b9d6f147092\n# Push successful\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Modify the `}<inlineCode parentName=\"p\">{`pg-connector.yaml`}</inlineCode>{` from the `}<inlineCode parentName=\"p\">{`environment/cdc`}</inlineCode>{` folder to configure the Postgres datasource credentials:`}</p>\n        <pre parentName=\"li\"><code parentName=\"pre\" {...{\n            \"className\": \"language-yaml\"\n          }}>{`config: \n  database.dbname: postgres\n  database.hostname: postgres.vaccineorder.svc\n  database.password: pgpwd\n  database.port: 5432\n  database.server.name: vaccine\n  database.user: postgres\n  table.whitelist: public.orderevents\n  plugin.name: pgoutput\n`}</code></pre>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Then start the connector: `}<inlineCode parentName=\"p\">{`oc apply -f pg-connector.yaml -n \\${EVENTSTREAMS_NS}`}</inlineCode></p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Verify it is running: `}<inlineCode parentName=\"p\">{`oc describe kafkaconnector pg-connector -n \\${EVENTSTREAMS_NS}`}</inlineCode>{`, you should see one task running. `}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`Looking at the pod trace for the connector you should see a successful connection, something like:`}</p>\n      </li>\n    </ul>\n    <pre><code parentName=\"pre\" {...{}}>{`Successfully tested connection for jdbc:postgresql://postgres.vaccineorder.svc:5432/postgres with user 'postgres' \n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`A new topic may have been created with the name of the table replicated: `}<inlineCode parentName=\"li\">{`vaccine.public.orderevents`}</inlineCode>{` with new messages mapping the rows in the table.`}</li>\n    </ul>\n    <h3>{`Deploy the Optimization Service`}</h3>\n    <h2>{`Scenario script`}</h2>\n    <p>{`Once the solution is up and running in your target deployment environment (local or OpenShift) execute the following steps to present an end to end demonstration.`}</p>\n    <h3>{`Validate existing vaccine lot shipment plan`}</h3>\n    <p>{`TBD `}</p>\n    <h3>{`Create an order from the user interface of the Order Service.`}</h3>\n    <p>{`Connect to the order microservice URL, for example it could look like `}<a parentName=\"p\" {...{\n        \"href\": \"http://vaccineorderms-vaccine.clusternametochangewithyours.containers.appdomain.cloud.\"\n      }}>{`http://vaccineorderms-vaccine.clusternametochangewithyours.containers.appdomain.cloud.`}</a>{` You should reach the home page. Then select Orders tab. `}</p>\n    <p>{`If there is no order created click on `}<inlineCode parentName=\"p\">{`NEW ORDER`}</inlineCode>{` button `}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"49.65277777777777%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABX0lEQVQoz32Qz07CQBDG+1xK1LsPoXjSRzDevUFMjPFPd7vt4hHhVbiacATagInGtqJd6OfOtJQi6ia/ZHZm9ptvx2k0Wzg4aVfsW/aabewctf5kt6Rx3OL+w7MrhmJHej4IUePuwYWQqryrqu7anPJ9nF/e4vTiGjf3HjxV1FY9TkdrMJ01UgoEQQCtAyhlH3ke9wSBz9Cwe+Fxz+PqXanjUHITDdcVLKKUdSklhJBWXMO37sghDSHornmQrt47RWItSE3SipAYiVJcv//MUT9R/Kh0SMFgMMBwOMRkMtkgDENEUYjRaITxeLxVJ6IoQrfb5WHVl6fTKRaLBbZOnsPkm6nf+vr9PruuBMnJcrlElmUwxvAjionnMMXnl4HhnMFHmnIPkVlyO7TX660FaQez2aw0lOO/Q3UaUstsOyRB2tF8Pkccx0iSpILudThvHRa1BC+v73iLU7vDJ97hN8OGf480N/YLAAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"3\",\n          \"title\": \"3\",\n          \"src\": \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/3cbba/order-ui.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/7fc1e/order-ui.png 288w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/a5df1/order-ui.png 576w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/3cbba/order-ui.png 1152w\", \"/vaccine-solution-main/static/034f8a378d8e405b0e5e9ccbc47e6bce/433df/order-ui.png 1356w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <p>{`and fill the following data:`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-yaml\"\n      }}>{`organization: Japan Government\ndelivery location: Tokyo\ndelivery date: 2021-01-24\nquantity: 150\npriority: 2\nvaccine type: covid-19\n`}</code></pre>\n    <ul>\n      <li parentName=\"ul\">{`Verify the data in postgresql: `}</li>\n    </ul>\n    <p>{`Once submitted the data are saved into the postgres DB, with the outbox pattern having created new records in the corresponding Event tables.\nThis can be done using different tools, like `}<inlineCode parentName=\"p\">{`psql`}</inlineCode>{` directly in the pod, or `}<inlineCode parentName=\"p\">{`pgadmin4`}</inlineCode>{`.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-shell\"\n      }}>{`oc get pods | grep postgres\noc rsh <postgres pod id>\n# in the shell session within the pod do:\npsql -U postgres\n# in the psql shell, list the table\n\\\\d \n# Look at the content of the main table:\nselect * from public.vaccineorderentity;\n# You should get one new record matching your data\n# Verify outbox pattern works:\nselect * from public.orderevents;\n\nid    |   aggregatetype    | aggregateid | type         | timestamp |payload \nc80.. | VaccineOrderEntity | 1           | OrderCreated | 2021-01-24 03:44:08.131634 | {\"orderID\":1,\"deliveryLocation\":\"Tokyo\",\"quantity\":150,\"priority\":2,\"deliveryDate\":\"2021-01-24\",\"askingOrganization\":\"Japan Government\",\"vaccineType\":\"COVID-19\",\"status\":\"OPEN\",\"creationDate\":\"24-Jan-2021 03:44:08\"} | \n`}</code></pre>\n    <p>{`The outbox table of the order events has metadata attributes and then a payload matches the saved record in the orign table.`}</p>\n    <h3>{`Verify the message in the Kafka topic: `}<inlineCode parentName=\"h3\">{`vaccine.public.orderevents`}</inlineCode></h3>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"38.888888888888886%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQoz2WRTU7DMBCFc2AkVrBixyVg0R0Sd2IBqghJiVv/Jo7txH54nJSmqqUvnsgzz2/GFecch8Mv2gxjHZTkQIrInw3LSildgXX3U4ILCTEmVForcKFwEgbaRkjjoYyD0B5MeHAdMM9zLow3gmdIaI5LXDVNA5lddUeB53eBh90RjzuG+1eGuxeOpzeNkxwQvMNianW3cb1d1WAt+r6HMT3qhqFuT9jXDB+fP/j67tB2EjbnWJtFQ/gvpJpxHG9GUQ3DkMVMSbjMK7cw+exqLDGdEdT60n66cXpxuAoSlEzz8D5A6zxTrRGmqYjR40kpy065zrni0LkRdiRcmfOVQ4qpLYKSqVW6hHbv/foAsXB2S4Qww/n5umWCHNH/MrMFEqbLhBDlXClVYnK7pe9NuegPP/dqFzDDsT8AAAAASUVORK5CYII=')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"5\",\n          \"title\": \"5\",\n          \"src\": \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/3cbba/outbox-topic.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/7fc1e/outbox-topic.png 288w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/a5df1/outbox-topic.png 576w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/3cbba/outbox-topic.png 1152w\", \"/vaccine-solution-main/static/d484d3524e94773d3d9680a190f7841a/b0b66/outbox-topic.png 1586w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\"before\":null,\"after\":\n{\"id\":\"c8050bb4-05d8-4270-833c-083995f27848\",\n \"aggregatetype\":\"VaccineOrderEntity\",\n \"aggregateid\":\"1\",\n \"type\":\"OrderCreated\",\n \"timestamp\":1611459848131634,\n \"payload\":\"{\\\\\"orderID\\\\\":1,\\\\\"deliveryLocation\\\\\":\\\\\"Paris\\\\\",\\\\\"quantity\\\\\":150,\\\\\"priority\\\\\":2,\\\\\"deliveryDate\\\\\":\\\\\"2021-01-24\\\\\",\\\\\"askingOrganization\\\\\":\\\\\"French Government\\\\\",\\\\\"vaccineType\\\\\":\\\\\"COVID-19\\\\\",\\\\\"status\\\\\":\\\\\"OPEN\\\\\",\\\\\"creationDate\\\\\":\\\\\"24-Jan-2021 03:44:08\\\\\"}\",\n\"tracingspancontext\":\"#Sun Jan 24 03:44:08 GMT 2021\\\\n\"},\n\"source\":{\"version\":\"1.4.0.Final\",\n\"connector\":\"postgresql\",\"name\":\"vaccine\",\n\"ts_ms\":1611712125168,\"snapshot\":\"last\",\n\"db\":\"postgres\",\"schema\":\"public\",\"table\":\"orderevents\",\n\"txId\":1371,\"lsn\":41341808,\"xmin\":null},\"op\":\"r\",\"ts_ms\":1611712125173,\"transaction\":null}\n`}</code></pre>\n    <h3>{`REST APIs`}</h3>\n    <p>{`The REST end points this service expose are in the OpenApi doc below, but not all operations are fully implemented yet.`}</p>\n    <p>{` `}<span parentName=\"p\" {...{\n        \"className\": \"gatsby-resp-image-wrapper\",\n        \"style\": {\n          \"position\": \"relative\",\n          \"display\": \"block\",\n          \"marginLeft\": \"auto\",\n          \"marginRight\": \"auto\",\n          \"maxWidth\": \"1152px\"\n        }\n      }}>{`\n      `}<span parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-background-image\",\n          \"style\": {\n            \"paddingBottom\": \"82.29166666666666%\",\n            \"position\": \"relative\",\n            \"bottom\": \"0\",\n            \"left\": \"0\",\n            \"backgroundImage\": \"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABYlAAAWJQFJUiTwAAACCklEQVQ4y6XUyW/TQBTHcf//EgfEAU4VEkI9FIR6QKgqB1rUqgvdkjRkq9skjuM4i/exZ+z4y8StClzowuGjZ41mfn6jJ9tIEsHu3jGHR2ccHZ9xUbvk284+xz/OOTg84fveIVvbO5yc1vSeU13r9Mwb+rN94nROrgqklCilKkYmFc5CEESCKEm1rKqxyEjSjDTVa1Fc1dXB5bKgLEvKAh3wd1gVGAtJZ5wwmArcIKvMQk3Xha55rrT8/sAq4FZ2H/Z7TWJI3aHMlxTLkkIfzJW6C1HV85+bb6l/MpTeNOqbDMweIokpCt1N9eZb+RNVV96u+3y58Bi4Ee4iZh7KZzN8PYSNZsL6peC8P6NuWgy8BMsXz2J4ach7+ytv7S1qrkl7PGSUzLHiOcNo9mRGkEg+6Q43dIfN4YJ236EznOqph0zjHFdfw40kEz3xSfCwKvBDrWD9fEnLjjFtnys74GYS6dDknu0rxo9QBW42Mj7WM1pWQM+a0Rst6Aym/Lx2dMcubf089lcdSJwH6KEo3tVhrQYNS9C1PLp2iOUpJjE4UVmxg0J3+TAjTULsxmfs2iYT6wrb6jMe9fFmY0LfJfTu+I9jqNhjufeKcvcFQecIp1tnftVA2F1y9xo1MVHu4xly4ZG+WUO+fE2wf4DT6jBttghNE2lZZMPhkxjV9xlHWogUArn6q/yHX485txu4FmjyAAAAAElFTkSuQmCC')\",\n            \"backgroundSize\": \"cover\",\n            \"display\": \"block\"\n          }\n        }}></span>{`\n  `}<img parentName=\"span\" {...{\n          \"className\": \"gatsby-resp-image-image\",\n          \"alt\": \"4\",\n          \"title\": \"4\",\n          \"src\": \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/3cbba/openapi.png\",\n          \"srcSet\": [\"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/7fc1e/openapi.png 288w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/a5df1/openapi.png 576w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/3cbba/openapi.png 1152w\", \"/vaccine-solution-main/static/57a73d42d89152003de92f0a86f0405f/7dc98/openapi.png 1200w\"],\n          \"sizes\": \"(max-width: 1152px) 100vw, 1152px\",\n          \"style\": {\n            \"width\": \"100%\",\n            \"height\": \"100%\",\n            \"margin\": \"0\",\n            \"verticalAlign\": \"middle\",\n            \"position\": \"absolute\",\n            \"top\": \"0\",\n            \"left\": \"0\"\n          },\n          \"loading\": \"lazy\"\n        }}></img>{`\n    `}</span></p>\n    <h3>{`See how the shipment plan is modified`}</h3>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"sourceRoot":""}